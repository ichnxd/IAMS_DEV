define(["app","baseDetailViewController","/JsApp/GetScript?Url=Doc%2fAP%2fCreditDebitMemo%2fVC_APDebitMemo"],function(n,t,i){var r=function(){var t=this,n=arguments;t.ModelHelper=new i;t.ModelHelper.ID_ViewType=2;t.Init(n[0],n[1],n[2],n[3],n[4],n[5],n[6])};return r.prototype=Object.create(t.prototype),r.prototype.Init=function(n,i,r,u,f,e,o){var s=this;s.IsEmptyString=function(n){return n===undefined||n===null?!0:n.replace(" ","").length===0?!0:!1};n.DisplayName="AP Debit Memo";n.DisplayPropertyName=i.ID==-1?"(New)":s.IsEmptyString(i.Name)==!0?"":i.Name;s.DisplayProperty="Name";s.ID_ModelObject=6235;s.ID_View=6743;s.ID_Model=5269;s.ModelViewName="APDebitMemo_DetailView";s.ModelName="APDebitMemo";s.DisplayName="AP Debit Memo";s.IsEditingOnly=!1;s.IsDeveloperMode=!1;s.$isAllowAdd=!0;s.$isAllowEdit=!0;s.CRUDTablesIds={Main:5269,APDebitMemo_Details:8312,APDebitMemo_Particulars:8316,APDebitMemo_Detail_Serials:8335};t.prototype.Init.call(this,n,i,r,u,f,e,o);var l=i,h=s.GetControlDataSource("vs1L2tSRRKf5dZ8Va4soqVERq/Z9NDh9rV8P5d8d6/afzCIVFj9kmpS9rLHWc7GWQTsvdP825HBiNC2Bqmk6t4IZSnZny5nwh2depqDgJ1rfg+3Lip2nOkUHHe/63RChb2WAUaiJ2X6PEMEs+ID0i1RbJ3ZyRxd+Yn7c7ElgSHk="),c=s.GetControlDataSource("MLPK2NJJUo9zan3kt8YBhtcw79JCL+Ub0vgSRhIKMCP92UVAicnDId3vYvb/ZBDjUxGAFyMJWFJPvhcUNFEs2PRT9qPYa+W2MoP1dRGzfbKvhx/8shyDVnLG74B4uk1vIk0vt6Q0G0Fx86qnXuuEqXzsvdmJSLfR5bWtughRrhk=");if(s.$scope.GeneralFormOptions={bindingOptions:{"formData.FilingStatus":"CurrentObject.FilingStatus","formData.Comment":"CurrentObject.Comment","formData.Date":"CurrentObject.Date","formData.Subtotal":"CurrentObject.Subtotal","formData.TotalAmount":"CurrentObject.TotalAmount","formData.ID_MemoType":"CurrentObject.ID_MemoType","formData.DateApproved":"CurrentObject.DateApproved","formData.DateCancelled":"CurrentObject.DateCancelled","formData.DateCreated":"CurrentObject.DateCreated","formData.DateModified":"CurrentObject.DateModified","formData.TotalVat":"CurrentObject.TotalVat","formData.Name":"CurrentObject.Name","formData.Reason":"CurrentObject.Reason","formData.ID_BusinessPartner":"CurrentObject.ID_BusinessPartner","formData.ID_Warehouse":"CurrentObject.ID_Warehouse","formData.CancelledBy":"CurrentObject.CancelledBy","formData.CreatedBy":"CurrentObject.CreatedBy","formData.LastModifiedBy":"CurrentObject.LastModifiedBy","formData.ApprovedBy":"CurrentObject.ApprovedBy"},formData:s.$scope.CurrentObject,customizeItem:s.customizeItem,onInitialized:function(n){$(n.element).addClass("generalform");s.$timeout(function(){s.firstFieldIndex="Name";s.FormInstance=n.component;s.FormInstance.option("$EditableProperties",["Date","ID_MemoType","ID_BusinessPartner","ID_Warehouse"]);s.OnFormInitialized();s.setFormReadOnly=function(n){if(s.IsFormReadOnly!==n){s.IsFormReadOnly=n;s.$fileUploaders!==undefined&&s.$fileUploaders!==null&&s.$fileUploaders.length>0&&$.each(s.$fileUploaders,function(t,i){i.component!==undefined?i.component.option("readOnly",!n):i.option("readOnly",!n)});$.each(s.DetailViewForms,function(t,i){i.setFormReadOnly(n)});s.setDateReadOnly!==undefined&&s.setDateReadOnly(n);s.setID_MemoTypeReadOnly!==undefined&&s.setID_MemoTypeReadOnly(n);s.setReadOnly!==undefined&&s.setReadOnly(n);s.setID_BusinessPartnerReadOnly!==undefined&&s.setID_BusinessPartnerReadOnly(n);s.setID_WarehouseReadOnly!==undefined&&s.setID_WarehouseReadOnly(n);$.each(["APDebitMemo_Detail_Serials","APDebitMemo_Details","APDebitMemo_Particulars"],function(t,i){s["set"+i+"GridEnabled"]!==undefined&&s["set"+i+"GridEnabled"](!n)});s.ChildToolbars!==undefined&&$.each(s.ChildToolbars,function(t,i){i.option("dataSource")!=undefined&&$.each(i.option("dataSource"),function(t,i){(i.isSystem==undefined||i.isSystem!=!0)&&(i.disabled=n)})});s.onSetFormReadOnly(n)}};s.onLoad()},500)},onFieldDataChanged:function(n){s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:((n.dataField==="ID_FilingStatus"||n.dataField==="Comment"||n.dataField==="Date"||n.dataField==="Subtotal"||n.dataField==="TotalAmount"||n.dataField==="DateApproved"||n.dataField==="DateCancelled"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="ID"||n.dataField==="TotalVat"||n.dataField==="Name"||n.dataField==="Reason"||n.dataField==="ID_CancelledBy"||n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),n.dataField!=="ID_FilingStatus"&&n.dataField!=="Comment"&&n.dataField!=="Subtotal"&&n.dataField!=="TotalAmount"&&n.dataField!=="DateApproved"&&n.dataField!=="DateCancelled"&&n.dataField!=="DateCreated"&&n.dataField!=="DateModified"&&n.dataField!=="ID"&&n.dataField!=="TotalVat"&&n.dataField!=="Name"&&n.dataField!=="Reason"&&n.dataField!=="ID_CancelledBy"&&n.dataField!=="ID_CreatedBy"&&n.dataField!=="ID_LastModifiedBy"&&n.dataField!=="ID_ApprovedBy"&&(s.$scope.CurrentObject.$dirty=!0)),s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()}))},scrollingEnabled:!0,height:function(){return"89%"},items:[{itemType:"tabbed",tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized,onItemClick:s.onTab_Click},tabs:[{title:"General",ID_Tab:-1,items:[{itemType:"group",colCount:1,tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized},items:[{itemType:"group",caption:"Information",IsShowLabel:!0,colCount:1,colSpan:1,items:[{name:"Name",label:{text:"APDM No.",alignment:"right",showColon:!1,location:"left"},dataField:"Name",editorType:"dxTextBox",editorOptions:{PropertyName:"Name",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("Name",n)},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify APDM No."})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})},tabIndex:1e8}},{name:"Date",label:{text:"Date",alignment:"right",showColon:!1,location:"left"},dataField:"Date",editorType:"dxDateBox",editorOptions:{PropertyName:"Date",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("Date",n)},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Date"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Date is required"}],cssClass:"js-dx-required"},{name:"ID_BusinessPartner",label:{text:"Supplier",alignment:"right",showColon:!1,location:"left"},dataField:"ID_BusinessPartner",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_BusinessPartner",SQL:"Y7dQhqMA7TFCOB83NUf4eEg8q8IHIX1jQlzYZTRqg2FYWl7JF7f01jG41ELRHq2+GV+70vxMCFzNlFaSOXbfwNlw9XghGSH+i7ecsO8PsYjBmpy6L+pXQ7Bv5DemhndT1FQGmlUfZ/yzDwob88VzEM8O9yfW0+DpdCfDjgINFeVIUQig2CoRPvIIhzp7QvB5NlFgf9WIDzfaCFUaa+c24A==",IsDeveloperMode:!1,ID_Control:14863,ID_ModelProperty:12687,ControlName:"ID_BusinessPartner",DisplayProperty:"BusinessPartner",CurrentObject:s.CurrentObject,FormatKey:"6B38D034-C605-4832-8789-4553E6D06948",ModelOption:{ID_DetailView:3102,ModelPropertyName:"Supplier",IsModal:s.IsModal===!0,ID_Model_Caller:5269,Icon:"mdi mdi-contact-mail"},Columns:["ID","Name","Address"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_BusinessPartner!=null&&(t=[{ID:s.$scope.CurrentObject.ID_BusinessPartner,Name:s.$scope.CurrentObject.BusinessPartner}],s.$scope.CurrentObject.EXPR_ID_BusinessPartner=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_BusinessPartner",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_BusinessPartner=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_BusinessPartner",value:t})});s.$scope.CurrentObject.ID_BusinessPartner=t!==null?t.ID:null;s.$scope.CurrentObject.BusinessPartner=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_BusinessPartner",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.BusinessPartner};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Supplier"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Supplier is required"}],cssClass:"js-dx-required"},{name:"ID_MemoType",label:{text:"Memo Type",alignment:"right",showColon:!1,location:"left"},dataField:"ID_MemoType",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_MemoType",showClearButton:!0,searchEnabled:!0,searchMode:"contains",dataSource:h,onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_MemoType",value:t});s.$scope.CurrentObject.ID_MemoType=t!==null?t.ID:null;s.$scope.CurrentObject.MemoType=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_MemoType",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Memo Type"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Memo Type is required"}],cssClass:"js-dx-required"},{name:"ID_Warehouse",label:{text:"Warehouse",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Warehouse",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_Warehouse",showClearButton:!0,searchEnabled:!0,searchMode:"contains",dataSource:c,onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_Warehouse",value:t});s.$scope.CurrentObject.ID_Warehouse=t!==null?t.ID:null;s.$scope.CurrentObject.Warehouse=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_Warehouse",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Warehouse"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Warehouse is required"}],cssClass:"js-dx-required"}]},{itemType:"group",colCount:1,IsShowLabel:!0,colSpan:1,caption:"SectionTotal",items:[{name:"TotalVat",label:{text:"VAT Amount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalVat",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalVat",readOnly:!0,PropertyName:"TotalVat",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalVat=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalVat",n)},tabIndex:1e8}},{name:"Subtotal",label:{text:"Subtotal",alignment:"right",showColon:!1,location:"left"},dataField:"Subtotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Subtotal",readOnly:!0,PropertyName:"Subtotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Subtotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Subtotal",n)},tabIndex:1e8}},{name:"TotalAmount",label:{text:"Total Amount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalAmount",readOnly:!0,PropertyName:"TotalAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalAmount",n)},tabIndex:1e8}}]}]}]},{ID_Tab:14826,title:"Comment",colCount:1,items:[{name:"Comment",label:{text:"Comment",alignment:"left",showColon:!1,location:"top"},dataField:"Comment",editorType:"dxTextArea",editorOptions:{PropertyName:"Comment",readOnly:!0,height:200,onInitialized:function(n){s.onControl_Initialized("Comment",n)},tabIndex:1e8}}]}]}]},s.$scope.APDebitMemo_DetailsGridOption=s.GetDetailGridOption("APDebitMemo_Details_LookUp_ListView","$parent.$parent.CurrentObject.APDebitMemo_Details","APDebitMemo_Details",[{editorOptions:{min:0},ID_ModelProperty:17477,ID_Column:20001,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:17481,ID_Column:20005,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",width:320,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17478,ID_Column:20002,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17479,ID_Column:20003,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17513,ID_Column:20071,dataField:"ID_DocDetail",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_DocDetail",width:404,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17941,ID_Column:20896,dataField:"QtyReceived",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"Qty Received",width:73,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_Column:20099,dataField:"ReferenceNo",allowFixing:!0,visible:!0,caption:"ReferenceNo",width:86,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17491,ID_Column:20027,dataField:"ID_Item",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Item",width:155,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.Item===undefined&&s.console_warn("Item is undefined in datasource");var i=t.data.Item!==undefined?t.data.Item===null?"-":t.data.Item:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:17493,ID_Column:20031,dataField:"ID_UOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"UOM",width:90,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.UOM===undefined&&s.console_warn("UOM is undefined in datasource");var i=t.data.UOM!==undefined?t.data.UOM===null?"-":t.data.UOM:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:17480,ID_Column:20004,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:805,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17514,ID_Column:20073,dataField:"ID_DocDetailParentModel",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_DocDetailParentModel",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17482,ID_Column:20011,dataField:"ID_APDebitMemo",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_APDebitMemo",width:349,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17523,ID_Column:20089,dataField:"GrossAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"GrossAmount",width:79,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17942,ID_Column:20898,dataField:"QtyReturned",allowFixing:!0,format:"fixedPoint",precision:0,visible:!0,caption:"Qty Returned",width:91,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17492,ID_Column:20029,dataField:"Quantity",allowFixing:!0,format:"fixedPoint",precision:0,visible:!1,caption:"Quantity",width:78,fixed:!0,fixedPosition:"right",allowEditing:!0,dataType:"number",isAllowZero:!0,validationRules:[{type:"required",message:"Quantity is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:17524,ID_Column:20091,dataField:"TotalAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Line Total",width:73,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM"},{editorOptions:{min:0},ID_ModelProperty:17957,ID_Column:20926,dataField:"ID_TaxScheme",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_TaxScheme",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17958,ID_Column:20928,dataField:"VatRate",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"VatRate",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18209,ID_Column:21418,dataField:"ID_Brand",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Brand",allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:17494,ID_Column:20033,dataField:"IsFree",allowFixing:!0,visible:!1,caption:"Free",width:61,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19509,ID_Column:23934,dataField:"VatAmt",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"VatAmt",width:68,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17956,ID_Column:20924,dataField:"UnitPrice",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"UnitPrice",width:74,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:317305,ID_Column:1071153,dataField:"Description",allowFixing:!0,visible:!1,caption:"Description",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0}],"",9278,[{Name:"APDebitMemo_Detail_Serials",PropertyName:"APDebitMemo_Detail_Serials",Caption:"Serials"}],300,"@ID",null,"Details",8554,8312,21769,17483,[{column:"ID",customizeText:function(){return"Total Summary"}},{column:"TotalAmount",customizeText:function(){return"0.00"},summaryType:"count"}],100),s.$scope.APDebitMemo_ParticularsGridOption=s.GetDetailGridOption("APDebitMemo_Particular_LookUp_ListView","$parent.$parent.CurrentObject.APDebitMemo_Particulars","APDebitMemo_Particulars",[{editorOptions:{min:0},ID_ModelProperty:20079,ID_Column:25119,dataField:"ID_PurchaseOrder",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_PurchaseOrder",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:20078,ID_Column:25117,dataField:"ID_ReceivingReport",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_ReceivingReport",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:20077,ID_Column:25115,dataField:"RefAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"RefAmount",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17546,ID_Column:20133,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:17547,ID_Column:20134,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17552,ID_Column:20145,dataField:"Particular",allowFixing:!0,visible:!0,caption:"Particular",width:246,allowEditing:!0,dataType:"string",isAllowZero:!0,validationRules:[{type:"required",message:"Particular is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:17551,ID_Column:20143,dataField:"ID_APDebitMemo",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_APDebitMemo",width:114,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17553,ID_Column:20147,dataField:"Amount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Amount",width:224,allowEditing:!0,dataType:"number",isAllowZero:!0,validationRules:[{type:"required",message:"Amount is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:17548,ID_Column:20135,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17549,ID_Column:20136,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:200,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{ID_ModelProperty:17550,ID_Column:20137,dataField:"Comment",allowFixing:!0,visible:!0,caption:"Comment",width:216,allowEditing:!1,dataType:"string",isAllowZero:!0}],"",9282,null,300,"@ID",null,"Particulars",8562,8316,21851,17554,undefined,100),s.$scope.APDebitMemo_Detail_SerialsGridOption=s.GetDetailGridOption("APDebitMemo_Detail_Serial_LookUp_ListView","$parent.$parent.CurrentObject.APDebitMemo_Detail_Serials","APDebitMemo_Detail_Serials",[{editorOptions:{min:0},ID_ModelProperty:17944,ID_Column:20902,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{editorOptions:{min:0},ID_ModelProperty:17954,ID_Column:20922,dataField:"ID_APDebitMemo_Details",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_APDebitMemo_Details",width:59,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:17946,ID_Column:20904,dataField:"Name",allowFixing:!0,visible:!0,caption:"Serial No",width:341,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17947,ID_Column:20905,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:200,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{ID_ModelProperty:17948,ID_Column:20906,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17949,ID_Column:20912,dataField:"DateCreated",allowFixing:!0,visible:!1,caption:"Date Created",width:200,allowEditing:!1,dataType:"date",format:"MM/dd/yyyy hh:mm tt",isAllowZero:!0,selectedFilterOperation:"between"},{ID_ModelProperty:17950,ID_Column:20914,dataField:"DateModified",allowFixing:!0,visible:!1,caption:"Date Modified",width:200,allowEditing:!1,dataType:"date",format:"MM/dd/yyyy hh:mm tt",isAllowZero:!0,selectedFilterOperation:"between"},{editorOptions:{min:0},ID_ModelProperty:17952,ID_Column:20918,dataField:"ID_CreatedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Created By",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.CreatedBy===undefined&&s.console_warn("CreatedBy is undefined in datasource");t.data.ID_CreatedBy===s.CurrentUser.ID&&n.addClass("CurrentUser");var i=t.data.CreatedBy!==undefined?t.data.CreatedBy===null?"-":t.data.CreatedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:17953,ID_Column:20920,dataField:"ID_LastModifiedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Last Modified By",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.LastModifiedBy===undefined&&s.console_warn("LastModifiedBy is undefined in datasource");var i=t.data.LastModifiedBy!==undefined?t.data.LastModifiedBy===null?"-":t.data.LastModifiedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:17945,ID_Column:20903,dataField:"Code",allowFixing:!0,visible:!1,caption:"Item",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0}],"",9301,null,300,"@ID","APDebitMemo_Details","Serials",8600,8335,22318,17955,undefined,100),s.$scope.APDebitMemo_Detail_Serials_MenuOptions=[],s.$scope.APDebitMemo_Details_MenuOptions=[],s.$scope.APDebitMemo_Particulars_MenuOptions=[],s.$scope.GeneralGridTabPabelItems=[{isForm:!1,Caption:"Details",Name:"APDebitMemo_DetailsGridContainer",title:"Details",PropertyName:"APDebitMemo_Details",DisplayProperty:"Name",GridOption:s.$scope.APDebitMemo_DetailsGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.APDebitMemo_Details_MenuOptions"}),ChildGrids:[{isForm:!1,Caption:"Serials",Name:"APDebitMemo_Detail_SerialsGridContainer",title:"Serials",PropertyName:"APDebitMemo_Detail_Serials",DisplayProperty:"Name",GridOption:s.$scope.APDebitMemo_Detail_SerialsGridOption,width:"99.6%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.APDebitMemo_Detail_Serials_MenuOptions"})}]},{isForm:!1,Caption:"Particulars",Name:"APDebitMemo_ParticularsGridContainer",title:"Particulars",PropertyName:"APDebitMemo_Particulars",DisplayProperty:"Name",GridOption:s.$scope.APDebitMemo_ParticularsGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.APDebitMemo_Particulars_MenuOptions"})},{title:"Status",isForm:!0,ID_Tab:14827,name:"StatusTab",formOption:{bindingOptions:{"formData.CreatedBy":"$parent.$parent.CurrentObject.CreatedBy","formData.LastModifiedBy":"$parent.$parent.CurrentObject.LastModifiedBy","formData.DateCreated":"$parent.$parent.CurrentObject.DateCreated","formData.DateModified":"$parent.$parent.CurrentObject.DateModified","formData.FilingStatus":"$parent.$parent.CurrentObject.FilingStatus","formData.ApprovedBy":"$parent.$parent.CurrentObject.ApprovedBy","formData.DateApproved":"$parent.$parent.CurrentObject.DateApproved","formData.CancelledBy":"$parent.$parent.CurrentObject.CancelledBy","formData.DateCancelled":"$parent.$parent.CurrentObject.DateCancelled","formData.Reason":"$parent.$parent.CurrentObject.Reason"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",[]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(){},s.onStatusTab_TabFormInitialized!==undefined)s.onStatusTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="ID_FilingStatus"||n.dataField==="ID_ApprovedBy"||n.dataField==="DateApproved"||n.dataField==="ID_CancelledBy"||n.dataField==="DateCancelled"||n.dataField==="Reason")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="ID_FilingStatus"||n.dataField==="ID_ApprovedBy"||n.dataField==="DateApproved"||n.dataField==="ID_CancelledBy"||n.dataField==="DateCancelled"||n.dataField==="Reason")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"ID_CreatedBy",label:{text:"Created By",alignment:"right",showColon:!1,location:"left"},dataField:"CreatedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CreatedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CreatedBy",n)},tabIndex:1e8}},{name:"ID_LastModifiedBy",label:{text:"Last Modified by",alignment:"right",showColon:!1,location:"left"},dataField:"LastModifiedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_LastModifiedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_LastModifiedBy",n)},tabIndex:1e8}},{name:"DateCreated",label:{text:"Date Created",alignment:"right",showColon:!1,location:"left"},dataField:"DateCreated",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCreated",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateCreated",n)},tabIndex:1e8}},{name:"DateModified",label:{text:"Date Modified",alignment:"right",showColon:!1,location:"left"},dataField:"DateModified",editorType:"dxDateBox",editorOptions:{PropertyName:"DateModified",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateModified",n)},tabIndex:1e8}},{name:"ID_FilingStatus",label:{text:"Filing Status",alignment:"right",showColon:!1,location:"left"},dataField:"FilingStatus",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_FilingStatus",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_FilingStatus",n)},tabIndex:1e8}},{name:"ID_ApprovedBy",label:{text:"Approved by",alignment:"right",showColon:!1,location:"left"},dataField:"ApprovedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_ApprovedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_ApprovedBy",n)},tabIndex:1e8}},{name:"DateApproved",label:{text:"Date Approved",alignment:"right",showColon:!1,location:"left"},dataField:"DateApproved",editorType:"dxDateBox",editorOptions:{PropertyName:"DateApproved",readOnly:!0,width:"100%",type:"datetime",onInitialized:function(n){s.onControl_Initialized("DateApproved",n)},tabIndex:1e8}},{name:"ID_CancelledBy",label:{text:"Cancelled By",alignment:"right",showColon:!1,location:"left"},dataField:"CancelledBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CancelledBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CancelledBy",n)},tabIndex:1e8}},{name:"DateCancelled",label:{text:"DateCancelled",alignment:"right",showColon:!1,location:"left"},dataField:"DateCancelled",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCancelled",readOnly:!0,width:"100%",type:"datetime",onInitialized:function(n){s.onControl_Initialized("DateCancelled",n)},tabIndex:1e8}},{name:"Reason",label:{text:"Reason",alignment:"right",showColon:!1,location:"left"},dataField:"Reason",editorType:"dxTextArea",editorOptions:{PropertyName:"Reason",readOnly:!0,height:150,onInitialized:function(n){s.onControl_Initialized("Reason",n)},tabIndex:1e8}}]}]}},{title:"Acct. Entries",isForm:!0,ID_Tab:294264,name:"JVTab",formOption:{bindingOptions:{"formData.JVGrid":"$parent.$parent.CurrentObject.JVGrid"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["JVGrid"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setJVGridReadOnly!==undefined&&s.setJVGridReadOnly(n)},s.onJVTab_TabFormInitialized!==undefined)s.onJVTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0&&(s.$scope.CurrentObject.$dirty=!1)},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"JVGrid",label:{text:"Acct. Entries",location:"top",showColon:!1},dataField:"JVGrid",editorType:"jdxGridView",editorOptions:{PropertyName:"JVGrid",SQL:"7AQZIqcCUdsGUitfKn22pKfn6upzTKJrC6dkcmrDTRxGFV9RFAkfibnl665SEqZYI1njK5Ow8yQ54ZBuiY04r1qFK4Ja6KRF54xohZ1gVxMg8iN64Xo4Tyi1WiEn9nKeQ424/+MkuWnzKG52dcPQ/Cav4J6aIbYhBGF93zH42Nd6prAMj85iGMb3bVoJVRxQmRfGcmRMRmyS2rbA98fKSqzsfNJvmG1GluA6uZuhRkW5X2SBoApOnHAgz+EVLArXHUMISDz0D4Ee7R8Wsc3uShKof0XZ3B+X/qaxG6T3PTU=",height:"300px",ID_View:"15BCA833-3CE8-47F6-A3EE-BA1EF052A8C4",OnGridInit:function(n){s.$GridControlList==undefined&&(s.$GridControlList=[]);s.$GridControlList.push(n)},onLoad:function(n){(n.params==null||n.params==undefined)&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID;console.log("onLoad",n.params)}}}]}]}}],s.$scope.GridTabPanelControlOption={items:s.$scope.GeneralGridTabPabelItems,onItemClick:s.onTab_Click,onInitialized:function(n){if(s.GridTabPanelControl=n.component,s.onTabInitialized!==undefined)s.onTabInitialized(n)},deferRendering:!1,swipeEnabled:!1,itemTemplate:"dxDataGrid",scrollByContent:!0,loop:!1,animationEnabled:!1},s.$scope.CurrentObject.CRUD={Main:5269,APDebitMemo_Details:8312,APDebitMemo_Particulars:8316,APDebitMemo_Detail_Serials:8335},s.$dateFields.push("DateCreated"),s.$dateFields.push("DateModified"),s.$dateFields.push("Date"),s.$dateFields.push("DateApproved"),s.$dateFields.push("DateCancelled"),s.ModelHelper!=null){s.ModelHelper.Init(this);s.ModelHelper.onInitDetailView(this)}if(s.ViewHelper!=null){s.ViewHelper.Init(this);s.ViewHelper.onInitDetailView(this)}},r})    