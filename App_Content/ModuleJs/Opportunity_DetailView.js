define(["app","baseDetailViewController","/JsApp/GetScript?Url=Salespipeline%2fVC_Opportunity"],function(n,t,i){var r=function(){var t=this,n=arguments;t.ModelHelper=new i;t.ModelHelper.ID_ViewType=2;t.Init(n[0],n[1],n[2],n[3],n[4],n[5],n[6])};return r.prototype=Object.create(t.prototype),r.prototype.Init=function(n,i,r,u,f,e,o){var s=this,h;s.IsEmptyString=function(n){return n===undefined||n===null?!0:n.replace(" ","").length===0?!0:!1};n.DisplayName="Opportunity";n.DisplayPropertyName=i.ID==-1?"(New)":s.IsEmptyString(i.Name)==!0?"":i.Name;s.DisplayProperty="Name";s.ID_ModelObject=4142;s.ID_View=4457;s.ID_Model=3181;s.ModelViewName="Opportunity_DetailView";s.ModelName="Opportunity";s.DisplayName="Opportunity";s.IsEditingOnly=!1;s.IsDeveloperMode=!1;s.$isAllowAdd=!0;s.$isAllowEdit=!0;s.CRUDTablesIds={Main:3181,Opportunity_Details:3182,Opportunity_Services:12481,Opportunity_BOMs:12479,Opportunity_PaymentTermss:12480};t.prototype.Init.call(this,n,i,r,u,f,e,o);var c=i;if(s.$scope.GeneralFormOptions={bindingOptions:{"formData.ID_OpportunityStage":"CurrentObject.ID_OpportunityStage","formData.ID_ContactA":"CurrentObject.ID_ContactA","formData.ID_ContactB":"CurrentObject.ID_ContactB","formData.ID_ContactC":"CurrentObject.ID_ContactC","formData.BOM_DiscountAmt":"CurrentObject.BOM_DiscountAmt","formData.BOM_DiscountRate":"CurrentObject.BOM_DiscountRate","formData.BOM_IsLot":"CurrentObject.BOM_IsLot","formData.BOM_SubTotal":"CurrentObject.BOM_SubTotal","formData.BOM_TotalAmount":"CurrentObject.BOM_TotalAmount","formData.Branch":"CurrentObject.Branch","formData.Comment":"CurrentObject.Comment","formData.DateCreated":"CurrentObject.DateCreated","formData.DateEngaged":"CurrentObject.DateEngaged","formData.DateModified":"CurrentObject.DateModified","formData.DocumentNo":"CurrentObject.DocumentNo","formData.Equipment_DiscountAmt":"CurrentObject.Equipment_DiscountAmt","formData.Equipment_DiscountRate":"CurrentObject.Equipment_DiscountRate","formData.Equipment_SubTotal":"CurrentObject.Equipment_SubTotal","formData.Equipment_TotalAmount":"CurrentObject.Equipment_TotalAmount","formData.ID_AccountExecutive":"CurrentObject.ID_AccountExecutive","formData.BOM":"CurrentObject.BOM","formData.BusinessUnit":"CurrentObject.BusinessUnit","formData.Notations":"CurrentObject.Notations","formData.ID_MediaSource":"CurrentObject.ID_MediaSource","formData.ID_OpportunityCategory":"CurrentObject.ID_OpportunityCategory","formData.ID_OpportunityReason":"CurrentObject.ID_OpportunityReason","formData.ID_PaymentTerm":"CurrentObject.ID_PaymentTerm","formData.RefOpp":"CurrentObject.RefOpp","formData.ID_TaxScheme":"CurrentObject.ID_TaxScheme","formData.IsCancelled":"CurrentObject.IsCancelled","formData.IsEndorsed":"CurrentObject.IsEndorsed","formData.Management":"CurrentObject.Management","formData.Name":"CurrentObject.Name","formData.PrincipalTenderExprDate":"CurrentObject.PrincipalTenderExprDate","formData.ProjectName":"CurrentObject.ProjectName","formData.ScopeOfWork":"CurrentObject.ScopeOfWork","formData.Service_DiscountAmt":"CurrentObject.Service_DiscountAmt","formData.Service_DiscountRate":"CurrentObject.Service_DiscountRate","formData.Service_IsLot":"CurrentObject.Service_IsLot","formData.ParentCompany":"CurrentObject.ParentCompany","formData.Service_TotalAmount":"CurrentObject.Service_TotalAmount","formData.RegisteredCompany":"CurrentObject.RegisteredCompany","formData.Subtotal":"CurrentObject.Subtotal","formData.TargerCloseDate":"CurrentObject.TargerCloseDate","formData.TIN":"CurrentObject.TIN","formData.TotalContractPrice":"CurrentObject.TotalContractPrice","formData.Service_SubTotal":"CurrentObject.Service_SubTotal","formData.TotalDiscount":"CurrentObject.TotalDiscount","formData.TotalVat":"CurrentObject.TotalVat","formData.TotalVatEx":"CurrentObject.TotalVatEx","formData.TotalVatInc":"CurrentObject.TotalVatInc","formData.WonLostDate":"CurrentObject.WonLostDate","formData.ID_Customer":"CurrentObject.ID_Customer","formData.CreatedBy":"CurrentObject.CreatedBy","formData.LastModifiedBy":"CurrentObject.LastModifiedBy"},formData:s.$scope.CurrentObject,customizeItem:s.customizeItem,onInitialized:function(n){$(n.element).addClass("generalform");s.$timeout(function(){s.firstFieldIndex="Name";s.FormInstance=n.component;s.FormInstance.option("$EditableProperties",["ID_OpportunityStage","ID_ContactA","ID_ContactB","ID_ContactC","BOM_DiscountAmt","BOM_DiscountRate","BOM_IsLot","Comment","DateEngaged","Equipment_DiscountAmt","Equipment_DiscountRate","ID_AccountExecutive","Notations","ID_MediaSource","ID_OpportunityCategory","ID_OpportunityReason","ID_PaymentTerm","ID_TaxScheme","Name","PrincipalTenderExprDate","ScopeOfWork","Service_DiscountAmt","Service_DiscountRate","Service_IsLot","TargerCloseDate","TIN","ID_Customer"]);s.OnFormInitialized();s.setFormReadOnly=function(n){if(s.IsFormReadOnly!==n){s.IsFormReadOnly=n;s.$fileUploaders!==undefined&&s.$fileUploaders!==null&&s.$fileUploaders.length>0&&$.each(s.$fileUploaders,function(t,i){i.component!==undefined?i.component.option("readOnly",!n):i.option("readOnly",!n)});$.each(s.DetailViewForms,function(t,i){i.setFormReadOnly(n)});s.setID_OpportunityStageReadOnly!==undefined&&s.setID_OpportunityStageReadOnly(n);s.setID_ContactAReadOnly!==undefined&&s.setID_ContactAReadOnly(n);s.setID_ContactBReadOnly!==undefined&&s.setID_ContactBReadOnly(n);s.setID_ContactCReadOnly!==undefined&&s.setID_ContactCReadOnly(n);s.setBOM_DiscountAmtReadOnly!==undefined&&s.setBOM_DiscountAmtReadOnly(n);s.setBOM_DiscountRateReadOnly!==undefined&&s.setBOM_DiscountRateReadOnly(n);s.setBOM_IsLotReadOnly!==undefined&&s.setBOM_IsLotReadOnly(n);s.setCommentReadOnly!==undefined&&s.setCommentReadOnly(n);s.setDateEngagedReadOnly!==undefined&&s.setDateEngagedReadOnly(n);s.setEquipment_DiscountAmtReadOnly!==undefined&&s.setEquipment_DiscountAmtReadOnly(n);s.setEquipment_DiscountRateReadOnly!==undefined&&s.setEquipment_DiscountRateReadOnly(n);s.setID_AccountExecutiveReadOnly!==undefined&&s.setID_AccountExecutiveReadOnly(n);s.setNotationsReadOnly!==undefined&&s.setNotationsReadOnly(n);s.setID_MediaSourceReadOnly!==undefined&&s.setID_MediaSourceReadOnly(n);s.setID_OpportunityCategoryReadOnly!==undefined&&s.setID_OpportunityCategoryReadOnly(n);s.setID_OpportunityReasonReadOnly!==undefined&&s.setID_OpportunityReasonReadOnly(n);s.setID_PaymentTermReadOnly!==undefined&&s.setID_PaymentTermReadOnly(n);s.setID_TaxSchemeReadOnly!==undefined&&s.setID_TaxSchemeReadOnly(n);s.setNameReadOnly!==undefined&&s.setNameReadOnly(n);s.setPrincipalTenderExprDateReadOnly!==undefined&&s.setPrincipalTenderExprDateReadOnly(n);s.setReadOnly!==undefined&&s.setReadOnly(n);s.setScopeOfWorkReadOnly!==undefined&&s.setScopeOfWorkReadOnly(n);s.setService_DiscountAmtReadOnly!==undefined&&s.setService_DiscountAmtReadOnly(n);s.setService_DiscountRateReadOnly!==undefined&&s.setService_DiscountRateReadOnly(n);s.setService_IsLotReadOnly!==undefined&&s.setService_IsLotReadOnly(n);s.setTargerCloseDateReadOnly!==undefined&&s.setTargerCloseDateReadOnly(n);s.setTINReadOnly!==undefined&&s.setTINReadOnly(n);s.setID_CustomerReadOnly!==undefined&&s.setID_CustomerReadOnly(n);$.each(["Opportunity_PaymentTermss"],function(t,i){s["set"+i+"GridEnabled"]!==undefined&&s["set"+i+"GridEnabled"](!n)});s.ChildToolbars!==undefined&&$.each(s.ChildToolbars,function(t,i){i.option("dataSource")!=undefined&&$.each(i.option("dataSource"),function(t,i){(i.isSystem==undefined||i.isSystem!=!0)&&(i.disabled=n)})});s.onSetFormReadOnly(n)}};s.onLoad()},500)},onFieldDataChanged:function(n){s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:((n.dataField==="BOM_DiscountAmt"||n.dataField==="BOM_DiscountRate"||n.dataField==="BOM_IsLot"||n.dataField==="BOM_SubTotal"||n.dataField==="BOM_TotalAmount"||n.dataField==="Branch"||n.dataField==="Comment"||n.dataField==="DateCreated"||n.dataField==="DateEngaged"||n.dataField==="DateModified"||n.dataField==="DocumentNo"||n.dataField==="Equipment_DiscountAmt"||n.dataField==="Equipment_DiscountRate"||n.dataField==="Equipment_SubTotal"||n.dataField==="Equipment_TotalAmount"||n.dataField==="ID"||n.dataField==="ID_BOM"||n.dataField==="Notations"||n.dataField==="ID_RefOpportunity"||n.dataField==="IsCancelled"||n.dataField==="IsEndorsed"||n.dataField==="Management"||n.dataField==="Name"||n.dataField==="PrincipalTenderExprDate"||n.dataField==="ProjectName"||n.dataField==="ScopeOfWork"||n.dataField==="Service_DiscountAmt"||n.dataField==="Service_DiscountRate"||n.dataField==="Service_IsLot"||n.dataField==="ParentCompany"||n.dataField==="Service_TotalAmount"||n.dataField==="RegisteredCompany"||n.dataField==="Subtotal"||n.dataField==="TargerCloseDate"||n.dataField==="TIN"||n.dataField==="TotalContractPrice"||n.dataField==="Service_SubTotal"||n.dataField==="TotalDiscount"||n.dataField==="TotalVat"||n.dataField==="TotalVatEx"||n.dataField==="TotalVatInc"||n.dataField==="WonLostDate"||n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),n.dataField!=="BOM_SubTotal"&&n.dataField!=="BOM_TotalAmount"&&n.dataField!=="Branch"&&n.dataField!=="DateCreated"&&n.dataField!=="DateModified"&&n.dataField!=="DocumentNo"&&n.dataField!=="Equipment_SubTotal"&&n.dataField!=="Equipment_TotalAmount"&&n.dataField!=="ID"&&n.dataField!=="ID_BOM"&&n.dataField!=="ID_RefOpportunity"&&n.dataField!=="IsCancelled"&&n.dataField!=="IsEndorsed"&&n.dataField!=="Management"&&n.dataField!=="ProjectName"&&n.dataField!=="ParentCompany"&&n.dataField!=="Service_TotalAmount"&&n.dataField!=="RegisteredCompany"&&n.dataField!=="Subtotal"&&n.dataField!=="TotalContractPrice"&&n.dataField!=="Service_SubTotal"&&n.dataField!=="TotalDiscount"&&n.dataField!=="TotalVat"&&n.dataField!=="TotalVatEx"&&n.dataField!=="TotalVatInc"&&n.dataField!=="WonLostDate"&&n.dataField!=="ID_CreatedBy"&&n.dataField!=="ID_LastModifiedBy"&&(s.$scope.CurrentObject.$dirty=!0)),s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()}))},items:[{itemType:"tabbed",tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized,onItemClick:s.onTab_Click},tabs:[{title:"General",ID_Tab:-1,items:[{itemType:"group",colCount:3,tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized},items:[{itemType:"group",IsShowLabel:!1,colCount:1,colSpan:1,items:[{name:"DocumentNo",label:{text:"OPP No.",alignment:"right",showColon:!1,location:"left"},dataField:"DocumentNo",editorType:"dxTextBox",editorOptions:{PropertyName:"DocumentNo",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("DocumentNo",n)},tabIndex:1e8}},{name:"ID_RefOpportunity",label:{text:"Ref. Opp.",alignment:"right",showColon:!1,location:"left"},dataField:"RefOpp",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_RefOpportunity",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_RefOpportunity",n)},tabIndex:1e8}},{name:"ID_BOM",label:{text:"Reference BOM No.",alignment:"right",showColon:!1,location:"left"},dataField:"BOM",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_BOM",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_BOM",n)},tabIndex:1e8}},{name:"ID_OpportunityCategory",label:{text:"Opportunity Type",alignment:"right",showColon:!1,location:"left"},dataField:"ID_OpportunityCategory",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_OpportunityCategory",showClearButton:!1,items:[{ID:1,Name:"Delivery Only"},{ID:2,Name:"Project"}],searchEnabled:!1,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_OpportunityCategory",value:t});s.$scope.CurrentObject.ID_OpportunityCategory=t!==null?t.ID:null;s.$scope.CurrentObject.ID_OpportunityCategory_DisplayName=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_OpportunityCategory",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Opportunity Type"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Opportunity Type is required"}],cssClass:"js-dx-required"},{name:"Name",label:{text:"Opportunity Name",alignment:"right",showColon:!1,location:"left"},dataField:"Name",editorType:"dxTextBox",editorOptions:{PropertyName:"Name",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("Name",n)},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Opportunity Name"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Opportunity Name is required"}],cssClass:"js-dx-required"},{name:"ProjectName",label:{text:"Project Name",alignment:"right",showColon:!1,location:"left"},dataField:"ProjectName",editorType:"dxTextBox",editorOptions:{PropertyName:"ProjectName",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ProjectName",n)},tabIndex:1e8}},{name:"ID_OpportunityStage",label:{text:"Stage",alignment:"right",showColon:!1,location:"left"},dataField:"ID_OpportunityStage",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_OpportunityStage",showClearButton:!0,items:[{ID:1,Name:"Introduction"},{ID:2,Name:"Meeting"},{ID:9,Name:"POC"},{ID:8,Name:"Proposal"},{ID:3,Name:"Proposal Positive"},{ID:4,Name:"Verbal Confirmation"},{ID:5,Name:"Won"},{ID:6,Name:"Loss"},{ID:10,Name:"Repeat Orders"},{ID:11,Name:"Cancelled"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_OpportunityStage",value:t});s.$scope.CurrentObject.ID_OpportunityStage=t!==null?t.ID:null;s.$scope.CurrentObject.ID_OpportunityStage_DisplayName=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_OpportunityStage",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Stage"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Stage is required"}],cssClass:"js-dx-required"},{name:"DateEngaged",label:{text:"Date Engaged",alignment:"right",showColon:!1,location:"left"},dataField:"DateEngaged",editorType:"dxDateBox",editorOptions:{PropertyName:"DateEngaged",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateEngaged",n)}}},{name:"TargerCloseDate",label:{text:"Target Close Date",alignment:"right",showColon:!1,location:"left"},dataField:"TargerCloseDate",editorType:"dxDateBox",editorOptions:{PropertyName:"TargerCloseDate",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("TargerCloseDate",n)}}}]},{itemType:"group",colCount:1,IsShowLabel:!1,colSpan:1,items:[{name:"ID_BusinessUnit",label:{text:"Business Unit",alignment:"right",showColon:!1,location:"left"},dataField:"ID_BusinessUnit",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_BusinessUnit",readOnly:!0,showClearButton:!0,items:[{ID:1,Name:"AV Solutions"},{ID:2,Name:"Dell Portfolio"},{ID:3,Name:"Trade Group"},{ID:4,Name:"HO Advertising"},{ID:5,Name:"Corporate IT Solutions"},{ID:6,Name:"Microsoft Business"},{ID:7,Name:"Interior Design and Architectural Products"},{ID:1007,Name:"Lighting Solutions"},{ID:1008,Name:"Security & Auxiliary"},{ID:1009,Name:"Fujitsu & Epson"},{ID:1010,Name:"Cebu Sales Office"},{ID:1011,Name:"OOH AD Sales"},{ID:1012,Name:"Corporate Retail"},{ID:1014,Name:"Vimar Portfolio"},{ID:1015,Name:"InHouse Account"},{ID:1016,Name:"AMX Distribution"},{ID:1017,Name:"ICT"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_BusinessUnit",value:t});s.$scope.CurrentObject.ID_BusinessUnit=t!==null?t.ID:null;s.$scope.CurrentObject.BusinessUnit=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_BusinessUnit",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Business Unit"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})},tabIndex:1e8}},{name:"ID_AccountExecutive",label:{text:"BDM",alignment:"right",showColon:!1,location:"left"},dataField:"ID_AccountExecutive",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_AccountExecutive",SQL:"pvVOf7m+Qt2ShffhasFJNDMCXmAVDJg07ebR4/yLXzCN+aDjyroyUM22/DK6VH/0G0eRcULIFJeOR/pKEa5hJ5nl8qZQBZ50mJ0VXQjIB16aiMjdF+chYXatT/pKq/pr4HHlcI1vTYmVLMixUCPDVleD9V0x7kRqY7EHwmPuiVU=",IsDeveloperMode:!1,ID_Control:316696,ID_ModelProperty:316225,ControlName:"ID_AccountExecutive",DisplayProperty:"BDM",CurrentObject:s.CurrentObject,onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_AccountExecutive!=null&&(t=[{ID:s.$scope.CurrentObject.ID_AccountExecutive,Name:s.$scope.CurrentObject.BDM}],s.$scope.CurrentObject.EXPR_ID_AccountExecutive=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_AccountExecutive",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_AccountExecutive=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_AccountExecutive",value:t})});s.$scope.CurrentObject.ID_AccountExecutive=t!==null?t.ID:null;s.$scope.CurrentObject.BDM=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_AccountExecutive",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.BDM};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify BDM"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"BDM is required"}],cssClass:"js-dx-required"},{name:"ParentCompany",label:{text:"Parent Company",alignment:"right",showColon:!1,location:"left"},dataField:"ParentCompany",editorType:"dxTextBox",editorOptions:{PropertyName:"ParentCompany",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ParentCompany",n)},tabIndex:1e8}},{name:"RegisteredCompany",label:{text:"Registered Company Name",alignment:"right",showColon:!1,location:"left"},dataField:"RegisteredCompany",editorType:"dxTextBox",editorOptions:{PropertyName:"RegisteredCompany",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("RegisteredCompany",n)},tabIndex:1e8}},{name:"ID_Customer",label:{text:"Trade Name",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Customer",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_Customer",SQL:"lUPBbukz5zGzrEwbZ4/TbEOcGEPp0CaZoA6x32E5yJGwdFsLva+CvUtu8JDUckDatELqcfDfDD4v9ibRud3jxett5XcI01xn9/1w/lxsELGiDN1TTL4FL1TmTxQo4SABgQQM3ZUn4RWZk3MUwCNnlCHFdTZsFUcinBdyRQ7eGsN85n2qUGCM+iIEOwdtbsBUYqVqFM8+fYdLObkR4jtwcdXjYiypqm5E9eRR7nnlua7Flvx8sOprJkAfsqDKCjCJKpii2E5xmNjRiaM6wT3jjOOGqABDTpjIJtjQgz6IcuehKssS95hxMg8aPPV1ON+Bj98v+rJfBsFAns19Gu+qb5AtUZ4SBgjs9yb0gPqg66/NyhRi1LuJDDNdD3c0pkMYuIRzrROQquQUTPeLBEw7njKJ9PgfE7PrVEQcaRN9UATDJSkmxDVQsKkP8KPWnxodUXP9QAPUBASy23dj4MhQrtjyescZjb5FpsnQ9TZ/szWvyQQ+TCMd8w2oq5h0KasKOaerfB1WzsDvKo/s+zUB6GAMP7lDY888W2FMbDjWUm/VpYMxGvU9KyTefTNt0o9e3atARdE8lwDIAYNdIPzHAimM3pWXHwUIho1OuWVwz9g3Gupar+sFyCCS404GzUkFpoIkffzWPnYzf/TOjwurO5AaP220eCxBaEoRQZ19d5tcORUlL0g8gVmqY+n+Lsaw8ZCF2JI91XX2FGevDq4Nzz8zt+F5tYzKN+LjnLzVmLikBshOEH+u0NeoYxmZhVB+x9SvIPVPG6A2MgKjcthUi6dWYkAMPoGi/PWI1eyausM=",IsDeveloperMode:!1,ID_Control:12089,ID_ModelProperty:9111,ControlName:"ID_Customer",DisplayProperty:"TradeName",CurrentObject:s.CurrentObject,FormatKey:"83108BC1-5E88-4B34-B58B-D6D7A5BB0CEE",ModelOption:{ID_DetailView:6249,ModelPropertyName:"Trade Name",IsModal:s.IsModal===!0,ID_Model_Caller:3181,Icon:"mdi mdi-account-edit"},Columns:["ID","Name","Branch"],ColumnsFilter:["Name","Branch"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_Customer!=null&&(t=[{ID:s.$scope.CurrentObject.ID_Customer,Name:s.$scope.CurrentObject.TradeName}],s.$scope.CurrentObject.EXPR_ID_Customer=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_Customer",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_Customer=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Customer",value:t})});s.$scope.CurrentObject.ID_Customer=t!==null?t.ID:null;s.$scope.CurrentObject.TradeName=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Customer",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.TradeName};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Trade Name"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID_BusinessUnit=s.$scope.CurrentObject.ID_BusinessUnit;n.params.ID_BusinessUnit=s.$scope.CurrentObject.ID_BusinessUnit;console.log("onLoad",n.params)}},validationRules:[{type:"required",message:"Trade Name is required"}],cssClass:"js-dx-required"},{name:"Management",label:{text:"Management",alignment:"right",showColon:!1,location:"left"},dataField:"Management",editorType:"dxTextBox",editorOptions:{PropertyName:"Management",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("Management",n)},tabIndex:1e8}},{name:"Branch",label:{text:"Branch",alignment:"right",showColon:!1,location:"left"},dataField:"Branch",editorType:"dxTextBox",editorOptions:{PropertyName:"Branch",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("Branch",n)},tabIndex:1e8}},{name:"ID_ContactA",label:{text:"Contact Person",alignment:"right",showColon:!1,location:"left"},dataField:"ID_ContactA",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_ContactA",SQL:"CskS6GZ8bw5d9WJgZZIFoTfTSslVFVLMqJyBsOLK7Yt1BIaknEWIU+NhQws0kxOYxdsuXFXl+U/9DlfD16esS/e5kZH60OVoQr+U5v+4X7U0VXruFm3tsvDu5LJhHnH0l8Hsa2biijT0x/BGuTBiskeC8xJf6RFlK0xBQtfA+7NE2EWtXRKKPAk5r+P6Ru8tfhRFFL8RPnbFMXjjKmUHYJI9EgGcWs34dqNAxVcN0kNLk+dCcs/bjHwIcta0oNhKMQ1nQfac/0ibwybwrfbmvFXQh1MWY3oSoSGXWN+2G8I=",IsDeveloperMode:!1,ID_Control:12106,ID_ModelProperty:9125,ControlName:"ID_ContactA",DisplayProperty:"ContactA",CurrentObject:s.CurrentObject,FormatKey:"EE7BBDCB-6610-4554-A76F-E80EF3CBBBAA",ModelOption:{ID_DetailView:6250,ModelPropertyName:"Contact Person",IsModal:s.IsModal===!0,ID_Model_Caller:3181,Icon:"mdi mdi-account-card-details"},Columns:["ID","Name"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_ContactA!=null&&(t=[{ID:s.$scope.CurrentObject.ID_ContactA,Name:s.$scope.CurrentObject.ContactA}],s.$scope.CurrentObject.EXPR_ID_ContactA=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_ContactA",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_ContactA=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactA",value:t})});s.$scope.CurrentObject.ID_ContactA=t!==null?t.ID:null;s.$scope.CurrentObject.ContactA=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactA",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.ContactA};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Contact Person"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID_Customer=s.$scope.CurrentObject.ID_Customer;n.params.ID_ContactB=s.$scope.CurrentObject.ID_ContactB;n.params.ID_ContactC=s.$scope.CurrentObject.ID_ContactC;console.log("onLoad",n.params)}},validationRules:[{type:"required",message:"Contact Person is required"}],cssClass:"js-dx-required"},{name:"WonLostDate",label:{text:"Won/Lost Date",alignment:"right",showColon:!1,location:"left"},dataField:"WonLostDate",editorType:"dxDateBox",editorOptions:{PropertyName:"WonLostDate",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("WonLostDate",n)},tabIndex:1e8}}]},{itemType:"group",colCount:1,IsShowLabel:!1,colSpan:1,items:[{name:"ID_PaymentTerm",label:{text:"Payment Terms",alignment:"right",showColon:!1,location:"left"},dataField:"ID_PaymentTerm",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_PaymentTerm",showClearButton:!0,items:[{ID:1,Name:"COD"},{ID:2,Name:"7 Days"},{ID:3,Name:"15 Days"},{ID:4,Name:"30 Days"},{ID:5,Name:"45 Days"},{ID:6,Name:"60 Days"},{ID:7,Name:"90 Days"},{ID:8,Name:"PDC 7 Days\r\n"},{ID:9,Name:"PDC 15 Days\r\n"},{ID:10,Name:"PDC 30 Days"},{ID:11,Name:"PDC 45 Days"},{ID:12,Name:"PDC 60 Days"},{ID:13,Name:"12 Months"},{ID:14,Name:"24 Months\r\n"},{ID:15,Name:"36 Months"},{ID:72,Name:"21 Days"},{ID:73,Name:"Consignment"},{ID:74,Name:"Progress Billing"},{ID:75,Name:" 3 Months"},{ID:76,Name:"6 Months"},{ID:78,Name:"Monthly"},{ID:79,Name:"Quarterly"},{ID:80,Name:"10 days"},{ID:81,Name:"3 DAYS"},{ID:82,Name:"100%  Advance"},{ID:83,Name:"Semi-Annual"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_PaymentTerm",value:t});s.$scope.CurrentObject.ID_PaymentTerm=t!==null?t.ID:null;s.$scope.CurrentObject.PaymentTerm=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_PaymentTerm",n)},displayExpr:"Name",valueExpr:"ID"}},{name:"TIN",label:{text:"TIN",alignment:"right",showColon:!1,location:"left"},dataField:"TIN",editorType:"dxTextBox",editorOptions:{PropertyName:"TIN",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("TIN",n)},mask:"000-000-000-000",useMaskedValue:!0}},{name:"ID_TaxScheme",label:{text:"Tax Scheme",alignment:"right",showColon:!1,location:"left"},dataField:"ID_TaxScheme",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_TaxScheme",showClearButton:!1,items:[{ID:1,Name:"VAT Exclusive"},{ID:2,Name:"VAT Inclusive"},{ID:3,Name:"Zero Rated"},{ID:4,Name:"Billing Only"}],searchEnabled:!1,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_TaxScheme",value:t});s.$scope.CurrentObject.ID_TaxScheme=t!==null?t.ID:null;s.$scope.CurrentObject.TaxScheme=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_TaxScheme",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Tax Scheme"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Tax Scheme is required"}],cssClass:"js-dx-required"},{name:"Subtotal",label:{text:"Subtotal",alignment:"right",showColon:!1,location:"left"},dataField:"Subtotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Subtotal",readOnly:!0,PropertyName:"Subtotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Subtotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Subtotal",n)},tabIndex:1e8}},{name:"TotalDiscount",label:{text:"Discount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalDiscount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalDiscount",readOnly:!0,PropertyName:"TotalDiscount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalDiscount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalDiscount",n)},tabIndex:1e8}},{name:"TotalContractPrice",label:{text:"Total Contract Price",alignment:"right",showColon:!1,location:"left"},dataField:"TotalContractPrice",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalContractPrice",readOnly:!0,PropertyName:"TotalContractPrice",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalContractPrice=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalContractPrice",n)},tabIndex:1e8}},{name:"TotalVatInc",label:{text:"VAT Inc",alignment:"right",showColon:!1,location:"left"},dataField:"TotalVatInc",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalVatInc",readOnly:!0,PropertyName:"TotalVatInc",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalVatInc=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalVatInc",n)},tabIndex:1e8}},{name:"TotalVat",label:{text:"VAT Amount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalVat",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalVat",readOnly:!0,PropertyName:"TotalVat",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalVat=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalVat",n)},tabIndex:1e8}},{name:"TotalVatEx",label:{text:"VAT Ex",alignment:"right",showColon:!1,location:"left"},dataField:"TotalVatEx",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalVatEx",readOnly:!0,PropertyName:"TotalVatEx",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalVatEx=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalVatEx",n)},tabIndex:1e8}}]}]}]},{ID_Tab:315696,title:"Description of Project",colCount:2,items:[{name:"ScopeOfWork",label:{text:"Given/Scope of Work",alignment:"left",showColon:!1,location:"top"},dataField:"ScopeOfWork",editorType:"dxTextArea",editorOptions:{PropertyName:"ScopeOfWork",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:150,onInitialized:function(n){s.onControl_Initialized("ScopeOfWork",n)}},colSpan:2},{name:"Notations",label:{text:"Assumption/Notations",alignment:"left",showColon:!1,location:"top"},dataField:"Notations",editorType:"dxTextArea",editorOptions:{PropertyName:"Notations",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:150,onInitialized:function(n){s.onControl_Initialized("Notations",n)}},colSpan:2}]},{ID_Tab:8029,title:"Comment",colCount:1,items:[{name:"Comment",label:{visible:!1},dataField:"Comment",editorType:"dxTextArea",editorOptions:{PropertyName:"Comment",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:200,onInitialized:function(n){s.onControl_Initialized("Comment",n)}},colSpan:2}]},{ID_Tab:12092,title:"Status",colCount:2,items:[{name:"ID_CreatedBy",label:{text:"Created By",alignment:"right",showColon:!1,location:"left"},dataField:"CreatedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CreatedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CreatedBy",n)},tabIndex:1e8}},{name:"ID_LastModifiedBy",label:{text:"Last Modified by",alignment:"right",showColon:!1,location:"left"},dataField:"LastModifiedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_LastModifiedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_LastModifiedBy",n)},tabIndex:1e8}},{name:"DateCreated",label:{text:"Date Created",alignment:"right",showColon:!1,location:"left"},dataField:"DateCreated",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCreated",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateCreated",n)},tabIndex:1e8}},{name:"DateModified",label:{text:"Date Modified",alignment:"right",showColon:!1,location:"left"},dataField:"DateModified",editorType:"dxDateBox",editorOptions:{PropertyName:"DateModified",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateModified",n)},tabIndex:1e8}},{name:"IsEndorsed",label:{text:"Endorsed",alignment:"right",showColon:!1,location:"left"},dataField:"IsEndorsed",editorType:"dxCheckBox",editorOptions:{PropertyName:"IsEndorsed",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("IsEndorsed",n)},onValueChanged:function(n){s.$scope.CurrentObject.IsEndorsed=n.value},tabIndex:1e8}},{name:"IsCancelled",label:{text:"Cancelled",alignment:"right",showColon:!1,location:"left"},dataField:"IsCancelled",editorType:"dxCheckBox",editorOptions:{PropertyName:"IsCancelled",readOnly:!0,disabled:!0,onInitialized:function(n){s.onControl_Initialized("IsCancelled",n)},onValueChanged:function(n){s.$scope.CurrentObject.IsCancelled=n.value},tabIndex:1e8}}]}]}]},s.$scope.Opportunity_PaymentTermssGridOption=s.GetDetailGridOption("Opportunity_PaymentTerms_LookUp_ListView","$parent.$parent.CurrentObject.Opportunity_PaymentTermss","Opportunity_PaymentTermss",[{ID_ModelProperty:224648,ID_Column:1069751,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224647,ID_Column:1069753,dataField:"ID",allowFixing:!0,visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"string",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:224651,ID_Column:1069752,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224650,ID_Column:1069754,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:22,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224653,ID_Column:1069763,dataField:"ID_PaymentScheme",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Payment Scheme",width:482,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_PaymentScheme",DisplayProperty:"PaymentScheme",SQL:"0o30iW/p7n7v4ouIuSljdhjK0ucchmfE7F7NluqePK+HgE/iws+BLBbMR8bl8FYDtp7bHQmXqpCLd4ShS+o8DILDThHOIWKnfYeEAh2jJIhkk5GOpnkn9yxOdkuBhJcmsw9vJ5KAue4p5GybqBc3yLgTl5WMwrepDHbokGiWzxA=",ListViewPropertyName:"Opportunity_PaymentTermss",Columns:["Name"],PropertyAlias:"ID_PaymentScheme"})},cellTemplate:function(n,t){t.data.PaymentScheme===undefined&&s.console_warn("PaymentScheme is undefined in datasource");var i=t.data.PaymentScheme!==undefined?t.data.PaymentScheme===null?"-":t.data.PaymentScheme:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},validationRules:[{type:"required",message:"Payment Scheme is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:224655,ID_Column:1069767,dataField:"ID_PaymentTerm",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Payment Term",width:486,alignment:"left",fixed:!0,fixedPosition:"right",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_PaymentTerm",DisplayProperty:"PaymentTerm",SQL:"5IAdIHUbDMflPHkOYZmwUL4UQltxjOYfoTMdwXscqg0NWBDu/BWji52GsDJNNwoeX44Y4ctu4Fo0+VlhCfmT0os1cjqn7YDbJRxdVOS+T3SMSVGHMeT7Krw+pnF6UIzbOp+y3X9mzBMSsdhNeVaUS5JxOKjkw4Ec649s00LQywA=",ListViewPropertyName:"Opportunity_PaymentTermss",PropertyAlias:"ID_PaymentTerm"})},cellTemplate:function(n,t){t.data.PaymentTerm===undefined&&s.console_warn("PaymentTerm is undefined in datasource");var i=t.data.PaymentTerm!==undefined?t.data.PaymentTerm===null?"-":t.data.PaymentTerm:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},validationRules:[{type:"required",message:"Payment Term is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:224649,ID_Column:1069755,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224652,ID_Column:1069761,dataField:"ID_Opportunity",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Opportunity",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224654,ID_Column:1069765,dataField:"Rate",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"Rate",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0}],"",10447,null,350,"@ID",null,"Payment Terms",9893,12480,294613,224657,undefined,100),s.$scope.Opportunity_Details_MenuOptions=[],s.$scope.Opportunity_DetailsGridOption=s.GetDetailGridOption("Opportunity_Detail_LookUp_ListView","CurrentObject.Opportunity_Details","Opportunity_Details",[{editorOptions:{min:0},ID_ModelProperty:7166,ID_Column:8681,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:7169,ID_Column:8684,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:200,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{ID_ModelProperty:7170,ID_Column:8685,dataField:"DateCreated",allowFixing:!0,visible:!1,caption:"Date Created",width:200,allowEditing:!1,dataType:"date",format:"MM/dd/yyyy hh:mm tt",isAllowZero:!0,selectedFilterOperation:"between"},{editorOptions:{min:0},ID_ModelProperty:7172,ID_Column:8687,dataField:"ID_CreatedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Created By",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.CreatedBy===undefined&&s.console_warn("CreatedBy is undefined in datasource");t.data.ID_CreatedBy===s.CurrentUser.ID&&n.addClass("CurrentUser");var i=t.data.CreatedBy!==undefined?t.data.CreatedBy===null?"-":t.data.CreatedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:7173,ID_Column:8688,dataField:"ID_LastModifiedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Last Modified By",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.LastModifiedBy===undefined&&s.console_warn("LastModifiedBy is undefined in datasource");var i=t.data.LastModifiedBy!==undefined?t.data.LastModifiedBy===null?"-":t.data.LastModifiedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:7171,ID_Column:8686,dataField:"DateModified",allowFixing:!0,visible:!1,caption:"Date Modified",width:200,allowEditing:!1,dataType:"date",format:"MM/dd/yyyy hh:mm tt",isAllowZero:!0,selectedFilterOperation:"between"},{editorOptions:{min:0},ID_ModelProperty:9157,ID_Column:11629,dataField:"ID_Item",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Description",width:393,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_Item",DisplayProperty:"Item",SQL:"jm4b6UgWtXIxDvqsGkSNP5mvQYX1YuFcyCXA5cCwkbSQilSEIwg/9sAMoKryR2lta06qkPjAyiHBdhWe4rFkQYS44ZuKKYluTqCku5cJfNU51hsHse8k/kcHxVKuHoW5GuzwpDptqd/9DKI8NgH1P4wdQqrgMeZRTX+SvTyszlg=",ListViewPropertyName:"Opportunity_Details",Columns:["ID","Code","Name"],PropertyAlias:"ID_Item"})},cellTemplate:function(n,t){t.data.Item===undefined&&s.console_warn("Item is undefined in datasource");var i=t.data.Item!==undefined?t.data.Item===null?"-":t.data.Item:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},validationRules:[{type:"required",message:"Description is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:7167,ID_Column:8682,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:86,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:315086,ID_Column:1070624,dataField:"SKUCode",allowFixing:!0,visible:!0,caption:"SKU Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:315080,ID_Column:1070622,dataField:"ID_ItemType",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Type",width:86,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.ItemType===undefined&&s.console_warn("ItemType is undefined in datasource");var i=t.data.ItemType!==undefined?t.data.ItemType===null?"-":t.data.ItemType:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_Column:23395,dataField:"Brand",allowFixing:!0,visible:!0,caption:"Brand",width:83,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18210,ID_Column:21420,dataField:"ID_Brand",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Brand",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_Column:1071012,dataField:"PartNo",allowFixing:!0,visible:!0,caption:"ITI Model Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:316175,ID_Column:23398,dataField:"ModelCode",allowFixing:!0,visible:!0,caption:"Model Code",width:96,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:19819,ID_Column:24589,dataField:"Description",allowFixing:!0,visible:!0,caption:"Description",width:159,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:7168,ID_Column:8683,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",width:200,fixedPosition:"left",allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:315085,ID_Column:1070621,dataField:"DisplayName",allowFixing:!0,visible:!0,caption:"Display Name",width:200,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:9159,ID_Column:11633,dataField:"ID_UOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"UOM",width:84,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_SelectBox(n,t,{Name:"ID_UOM",DisplayProperty:"UOM",DataSource:h,ListViewPropertyName:"Opportunity_Details",PropertyAlias:"ID_UOM"})},cellTemplate:function(n,t){t.data.UOM===undefined&&s.console_warn("UOM is undefined in datasource");var i=t.data.UOM!==undefined?t.data.UOM===null?"-":t.data.UOM:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},validationRules:[{type:"required",message:"UOM is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:9158,ID_Column:11631,dataField:"Quantity",allowFixing:!0,format:"fixedPoint",precision:0,visible:!0,caption:"Quantity",width:60,alignment:"right",allowEditing:!0,dataType:"number",isAllowZero:!0,summaryType:"SUM",validationRules:[{type:"required",message:"Quantity is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:9161,ID_Column:11637,dataField:"VatAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"VAT Amt",width:222,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:9162,ID_Column:11639,dataField:"SRP",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"SRP",width:104,alignment:"right",allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:315082,ID_Column:1070625,dataField:"UnitPrice",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Unit Price",width:113,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:316183,ID_Column:1070825,dataField:"GrossAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Gross Amt",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0,max:100},ID_ModelProperty:315083,ID_Column:1070620,dataField:"DiscountRate",allowFixing:!0,format:"fixedPoint",precision:2,visible:!0,caption:"Discount %",width:100,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:315081,ID_Column:1070619,dataField:"Discount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Discount Amt",width:103,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:316184,ID_Column:1070827,dataField:"LineDiscount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"Line Discount",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:9160,ID_Column:11635,dataField:"LineTotal",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Net Amount",width:101,allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM",cssClass:"LineTotal"},{ID_ModelProperty:7175,ID_Column:8690,dataField:"Comment",allowFixing:!0,visible:!0,caption:"Remarks",width:199,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{ID_ModelProperty:315084,ID_Column:1070623,dataField:"IsFree",allowFixing:!0,visible:!0,caption:"Free",width:100,fixed:!0,fixedPosition:"right",allowEditing:!0,dataType:"boolean",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:315178,ID_Column:1070790,dataField:"ID_BOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_BOM",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0}],{},4143,[],"300","@ID",null,"Equipment",3294,3182,12150,9156,undefined,50),h=[{ID:1,Name:"PACK"},{ID:2,Name:"SET"},{ID:3,Name:"PAIR"},{ID:4,Name:"PC"},{ID:5,Name:"BOX"},{ID:6,Name:"LOT"},{ID:7,Name:"MTR."},{ID:9,Name:"UNIT"},{ID:10,Name:"MM"},{ID:11,Name:"CM"},{ID:12,Name:"INCH"},{ID:13,Name:"FT-IN"},{ID:14,Name:"INCH"},{ID:15,Name:"FEET"},{ID:16,Name:"M"},{ID:17,Name:"G"},{ID:18,Name:"P"},{ID:19,Name:"KG"},{ID:20,Name:"TON"},{ID:21,Name:"S"},{ID:22,Name:"M"},{ID:23,Name:"H"},{ID:24,Name:"T"},{ID:25,Name:"ML"},{ID:26,Name:"PT"},{ID:27,Name:"L"},{ID:28,Name:"GL"},{ID:29,Name:"SQ MM"},{ID:30,Name:"SQ CM"},{ID:31,Name:"SQ IN"},{ID:32,Name:"SQ FT"},{ID:33,Name:"SQ M"},{ID:34,Name:"Roll"},{ID:35,Name:null},{ID:36,Name:"M3"},{ID:37,Name:"2M3"},{ID:38,Name:null},{ID:39,Name:"Dozen"},{ID:40,Name:"SPOT"},{ID:41,Name:null},{ID:42,Name:"YR"},{ID:43,Name:"QTR"}],s.$scope.Opportunity_BOMs_MenuOptions=[],s.$scope.Opportunity_BOMsGridOption=s.GetDetailGridOption("Opportunity_BOM_LookUp_ListView","CurrentObject.Opportunity_BOMs","Opportunity_BOMs",[{ID_Column:1071015,dataField:"PartNo",allowFixing:!0,visible:!0,caption:"ITI Model Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224608,ID_Column:1069675,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",width:200,allowEditing:!0,dataType:"string",isAllowZero:!0,validationRules:[{type:"required",message:"Name is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:224607,ID_Column:1069671,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:143,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224969,ID_Column:1070366,dataField:"SKUCode",allowFixing:!0,visible:!0,caption:"SKU Code",width:157,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224619,ID_Column:1069697,dataField:"ID_ItemType",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Type",width:108,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.ItemType===undefined&&s.console_warn("ItemType is undefined in datasource");var i=t.data.ItemType!==undefined?t.data.ItemType===null?"-":t.data.ItemType:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:224617,ID_Column:1069693,dataField:"ID_Brand",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Brand",width:81,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.Brand===undefined&&s.console_warn("Brand is undefined in datasource");var i=t.data.Brand!==undefined?t.data.Brand===null?"-":t.data.Brand:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:224620,ID_Column:1069699,dataField:"ModelCode",allowFixing:!0,visible:!0,caption:"Model Code",width:99,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224618,ID_Column:1069695,dataField:"Description",allowFixing:!0,visible:!0,caption:"Description",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224954,ID_Column:1070338,dataField:"DisplayName",allowFixing:!0,visible:!0,caption:"Display Name",width:200,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:224614,ID_Column:1069687,dataField:"ID_UOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"UOM",width:83,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.UOM===undefined&&s.console_warn("UOM is undefined in datasource");var i=t.data.UOM!==undefined?t.data.UOM===null?"-":t.data.UOM:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:224613,ID_Column:1069685,dataField:"Quantity",allowFixing:!0,format:"fixedPoint",precision:0,visible:!0,caption:"Quantity",width:80,allowEditing:!0,dataType:"number",isAllowZero:!0,validationRules:[{type:"required",message:"Quantity is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0},ID_ModelProperty:224616,ID_Column:1069691,dataField:"SRP",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"SRP",width:114,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{ID_ModelProperty:224606,ID_Column:1069673,dataField:"ID",allowFixing:!0,visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"string",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:224609,ID_Column:1069674,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",allowEditing:!1,dataType:"boolean",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224622,ID_Column:1069703,dataField:"UnitPrice",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"UnitPrice",width:102,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:316185,ID_Column:1070829,dataField:"GrossAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Gross Amt",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0,max:100},ID_ModelProperty:224796,ID_Column:1070024,dataField:"DiscountRate",allowFixing:!0,format:"fixedPoint",precision:2,visible:!0,caption:"Discount %",width:100,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:224621,ID_Column:1069701,dataField:"Discount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Discount",width:121,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:316186,ID_Column:1070831,dataField:"LineDiscount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"Line Discount",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224615,ID_Column:1069689,dataField:"LineTotal",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Net Amount",width:104,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224611,ID_Column:1069681,dataField:"ID_Opportunity",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Opportunity",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224612,ID_Column:1069683,dataField:"ID_Item",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Item",allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:224610,ID_Column:1069672,dataField:"Comment",allowFixing:!0,visible:!0,caption:"Remarks",width:191,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:315176,ID_Column:1070786,dataField:"ID_BOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_BOM",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:224997,ID_Column:1070415,dataField:"IsFree",allowFixing:!0,visible:!0,caption:"Free",width:100,allowEditing:!0,dataType:"boolean",isAllowZero:!0,cssClass:"editable-cell "}],{},10446,[],"300","@ID",null,"BOM",9891,12479,294561,224623,undefined,50),s.$scope.Opportunity_Services_MenuOptions=[],s.$scope.Opportunity_ServicesGridOption=s.GetDetailGridOption("Opportunity_Service_LookUp_ListView","CurrentObject.Opportunity_Services","Opportunity_Services",[{ID_ModelProperty:224664,ID_Column:1069774,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224660,ID_Column:1069775,dataField:"ID",allowFixing:!0,visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"string",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:224976,ID_Column:1070380,dataField:"SKUCode",allowFixing:!0,visible:!0,caption:"SKU Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224667,ID_Column:1069787,dataField:"Description",allowFixing:!0,visible:!0,caption:"Description",width:390,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{ID_ModelProperty:224661,ID_Column:1069773,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:224663,ID_Column:1069776,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",allowEditing:!1,dataType:"boolean",isAllowZero:!0},{ID_ModelProperty:224957,ID_Column:1070344,dataField:"DisplayName",allowFixing:!0,visible:!0,caption:"Display Name",width:100,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:224668,ID_Column:1069789,dataField:"ManHours",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Total Man Hours",width:126,allowEditing:!0,dataType:"number",isAllowZero:!0,validationRules:[{type:"required",message:"Total Man Hours is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:224662,ID_Column:1069777,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224665,ID_Column:1069783,dataField:"ID_Opportunity",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Opportunity",width:85,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224666,ID_Column:1069785,dataField:"ID_Item",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Item",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:224669,ID_Column:1069791,dataField:"Amount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Total Amount",width:112,allowEditing:!0,dataType:"number",isAllowZero:!0,validationRules:[{type:"required",message:"Total Amount is required"}],cssClass:"editable-cell  js-required"},{editorOptions:{min:0,max:100},ID_ModelProperty:224962,ID_Column:1070352,dataField:"DiscountRate",allowFixing:!0,format:"fixedPoint",precision:2,visible:!0,caption:"Discount %",width:100,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:224961,ID_Column:1070350,dataField:"Discount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Discount",width:100,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "},{ID_ModelProperty:225e3,ID_Column:1070421,dataField:"IsFree",allowFixing:!0,visible:!0,caption:"Free",width:100,allowEditing:!0,dataType:"boolean",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:224963,ID_Column:1070354,dataField:"LineTotal",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Net Amount",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:315177,ID_Column:1070788,dataField:"ID_BOM",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_BOM",width:100,allowEditing:!1,dataType:"number",isAllowZero:!0}],{},10448,[],"300","@ID",null,"Services",9895,12481,294628,224670,undefined,50),s.$scope.Opportunity_PaymentTermss_MenuOptions=[],s.$scope.Opportunity_PaymentTermss_MenuOptions.push({text:"Add Payment Term",icon:"mdi mdi-plus",IsDisabled:function(){return s.IsFormReadOnly==!0?!0:!1},onItemClick:function(){s.BrowseDataSet("AxMS0jIRovrhT3XHO9HtdlrlZHwqiCgUh1DyXmRYpc0aXy3IY5ZPUi/prtH0OXls4zPzqxZqhDVBWSSoi7Z2IxJCX3C1i0jeFOd3qN0XFf5WapYlaLb84nnI+gNsnKezrvjzQ9mrw+vPnW1GvVN8yppjXqYMDjx94vKOyF9kUpWBYoWEb13VqvpX+HuocAxpP+hWmTPH76cWpct0lhNUAA==",{ID_View:undefined,title:"Add Payment Term",ID_DetailView:9376,ModelName:"Payment Scheme",ModelIcon:"mdi mdi-credit-card",PropertyKey:null,width:750}).then(function(n){n.length!=0&&(s.$scope.CurrentObject.Opportunity_PaymentTermss==null&&(s.$scope.CurrentObject.Opportunity_PaymentTermss=[]),$.each(n,function(n,t){var t={Code:null,ID:null,Comment:null,IsActive:null,ID_PaymentScheme:t.ID,PaymentScheme:t.Name,ID_PaymentTerm:t.ID_PaymentTerm,PaymentTerm:t.ID_PaymentTerm,Name:t.Name,ID_Opportunity:null,Rate:t.Rate};s.$timeout(function(){s.$scope.CurrentObject.Opportunity_PaymentTermss.push(t)})}))})}}),s.$scope.GeneralGridTabPabelItems=[{title:"Equipment",isForm:!0,ID_Tab:296250,name:"EquipmentTab",formOption:{bindingOptions:{"formData.EquipmentSectionA":"$parent.$parent.CurrentObject.EquipmentSectionA","formData.EquipmentSectionB":"$parent.$parent.CurrentObject.EquipmentSectionB","formData.EquipmentSectionC":"$parent.$parent.CurrentObject.EquipmentSectionC","formData.Equipment_DiscountAmt":"$parent.$parent.CurrentObject.Equipment_DiscountAmt","formData.Equipment_DiscountRate":"$parent.$parent.CurrentObject.Equipment_DiscountRate","formData.Equipment_SubTotal":"$parent.$parent.CurrentObject.Equipment_SubTotal","formData.Equipment_TotalAmount":"$parent.$parent.CurrentObject.Equipment_TotalAmount"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:4,onInitialized:function(n){n.component.option("$EditableProperties",["EquipmentSectionA","EquipmentSectionB","EquipmentSectionC","Opportunity_Details","Equipment_DiscountAmt","Equipment_DiscountRate"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setEquipmentSectionAReadOnly!==undefined&&s.setEquipmentSectionAReadOnly(n);s.setEquipmentSectionBReadOnly!==undefined&&s.setEquipmentSectionBReadOnly(n);s.setEquipmentSectionCReadOnly!==undefined&&s.setEquipmentSectionCReadOnly(n);s.setOpportunity_DetailsReadOnly!==undefined&&s.setOpportunity_DetailsReadOnly(n);s.setEquipment_DiscountAmtReadOnly!==undefined&&s.setEquipment_DiscountAmtReadOnly(n);s.setEquipment_DiscountRateReadOnly!==undefined&&s.setEquipment_DiscountRateReadOnly(n)},s.onEquipmentTab_TabFormInitialized!==undefined)s.onEquipmentTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="EquipmentSectionA"||n.dataField==="EquipmentSectionB"||n.dataField==="EquipmentSectionC"||n.dataField==="Opportunity_Details"||n.dataField==="Equipment_DiscountAmt"||n.dataField==="Equipment_DiscountRate"||n.dataField==="Equipment_SubTotal"||n.dataField==="Equipment_TotalAmount")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="Equipment_SubTotal"||n.dataField==="Equipment_TotalAmount")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:4,colSpan:4,items:[]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:4,items:[{name:"Opportunity_Details",label:{visible:!1},dataField:"Opportunity_Details",editorType:"jdxCustomView",editorOptions:{PropertyName:"Opportunity_Details",onViewRendered:function(n){var t,i;(s.$compile===undefined||s.$compile===null)&&(s.$compile=angular.element(document).injector().get("$compile"));$(n).css({"padding-right":"25px"});$(n).css({"padding-left":"25px"});s.$scope.Opportunity_DetailsDetailGrid_MenuOptions=s.GetGridMenuOption({dataSource:"Opportunity_Details_MenuOptions"});t=s.$compile("<div dx-menu='Opportunity_DetailsDetailGrid_MenuOptions' class='js-grid-toolbar dx-menu-right'><\/div>")(s.$scope);$(n).append(t);i=s.$compile('<div dx-data-grid="Opportunity_DetailsGridOption" class="Opportunity_Details form-details"><\/div>')(s.$scope);$(n).append(i)}}}]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:3,items:[]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:1,items:[{name:"Equipment_SubTotal",label:{text:"Subtotal",alignment:"right",showColon:!1,location:"left"},dataField:"Equipment_SubTotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Equipment_SubTotal",readOnly:!0,PropertyName:"Equipment_SubTotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Equipment_SubTotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Equipment_SubTotal",n)},tabIndex:1e8},colSpan:1},{name:"Equipment_DiscountRate",label:{text:"Discount %",alignment:"right",showColon:!1,location:"left"},dataField:"Equipment_DiscountRate",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Equipment_DiscountRate",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"Equipment_DiscountRate",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Equipment_DiscountRate=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Equipment_DiscountRate",n)}}},{name:"Equipment_DiscountAmt",label:{text:"Discount Amt",alignment:"right",showColon:!1,location:"left"},dataField:"Equipment_DiscountAmt",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Equipment_DiscountAmt",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"Equipment_DiscountAmt",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Equipment_DiscountAmt=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Equipment_DiscountAmt",n)}}},{name:"Equipment_TotalAmount",label:{text:"Total Amount",alignment:"right",showColon:!1,location:"left"},dataField:"Equipment_TotalAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Equipment_TotalAmount",readOnly:!0,PropertyName:"Equipment_TotalAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Equipment_TotalAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Equipment_TotalAmount",n)},tabIndex:1e8}}]}]}},{title:"Materials",isForm:!0,ID_Tab:294574,name:"BOMTab",formOption:{bindingOptions:{"formData.BOMSection":"$parent.$parent.CurrentObject.BOMSection","formData.BOM_SummaryC":"$parent.$parent.CurrentObject.BOM_SummaryC","formData.BOM_SummaryTabA":"$parent.$parent.CurrentObject.BOM_SummaryTabA","formData.BOM_SummaryTabB":"$parent.$parent.CurrentObject.BOM_SummaryTabB","formData.BOM_DiscountRate":"$parent.$parent.CurrentObject.BOM_DiscountRate","formData.BOM_IsLot":"$parent.$parent.CurrentObject.BOM_IsLot","formData.BOM_DiscountAmt":"$parent.$parent.CurrentObject.BOM_DiscountAmt","formData.BOM_SubTotal":"$parent.$parent.CurrentObject.BOM_SubTotal","formData.BOM_TotalAmount":"$parent.$parent.CurrentObject.BOM_TotalAmount"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:4,onInitialized:function(n){n.component.option("$EditableProperties",["BOMSection","BOM_SummaryC","BOM_SummaryTabA","BOM_SummaryTabB","Opportunity_BOMs","BOM_DiscountRate","BOM_IsLot","BOM_DiscountAmt"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setBOMSectionReadOnly!==undefined&&s.setBOMSectionReadOnly(n);s.setBOM_SummaryCReadOnly!==undefined&&s.setBOM_SummaryCReadOnly(n);s.setBOM_SummaryTabAReadOnly!==undefined&&s.setBOM_SummaryTabAReadOnly(n);s.setBOM_SummaryTabBReadOnly!==undefined&&s.setBOM_SummaryTabBReadOnly(n);s.setOpportunity_BOMsReadOnly!==undefined&&s.setOpportunity_BOMsReadOnly(n);s.setBOM_DiscountRateReadOnly!==undefined&&s.setBOM_DiscountRateReadOnly(n);s.setBOM_IsLotReadOnly!==undefined&&s.setBOM_IsLotReadOnly(n);s.setBOM_DiscountAmtReadOnly!==undefined&&s.setBOM_DiscountAmtReadOnly(n)},s.onBOMTab_TabFormInitialized!==undefined)s.onBOMTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="BOMSection"||n.dataField==="BOM_SummaryC"||n.dataField==="BOM_SummaryTabA"||n.dataField==="BOM_SummaryTabB"||n.dataField==="Opportunity_BOMs"||n.dataField==="BOM_DiscountRate"||n.dataField==="BOM_IsLot"||n.dataField==="BOM_DiscountAmt"||n.dataField==="BOM_SubTotal"||n.dataField==="BOM_TotalAmount")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="BOM_SubTotal"||n.dataField==="BOM_TotalAmount")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:4,colSpan:4,items:[]},{itemType:"group",isShowLabel:!1,colCount:2,colSpan:4,items:[{name:"Opportunity_BOMs",label:{visible:!1},dataField:"Opportunity_BOMs",editorType:"jdxCustomView",editorOptions:{PropertyName:"Opportunity_BOMs",onViewRendered:function(n){var t,i;(s.$compile===undefined||s.$compile===null)&&(s.$compile=angular.element(document).injector().get("$compile"));$(n).css({"padding-right":"25px"});$(n).css({"padding-left":"25px"});s.$scope.Opportunity_BOMsDetailGrid_MenuOptions=s.GetGridMenuOption({dataSource:"Opportunity_BOMs_MenuOptions"});t=s.$compile("<div dx-menu='Opportunity_BOMsDetailGrid_MenuOptions' class='js-grid-toolbar dx-menu-right'><\/div>")(s.$scope);$(n).append(t);i=s.$compile('<div dx-data-grid="Opportunity_BOMsGridOption" class="Opportunity_BOMs form-details"><\/div>')(s.$scope);$(n).append(i)}},colSpan:4}]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:2,items:[]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:1,items:[{name:"BOM_IsLot",label:{text:"1 Lot",alignment:"right",showColon:!1,location:"left"},dataField:"BOM_IsLot",editorType:"dxCheckBox",editorOptions:{PropertyName:"BOM_IsLot",onInitialized:function(n){s.onControl_Initialized("BOM_IsLot",n)},onValueChanged:function(n){s.$scope.CurrentObject.BOM_IsLot=n.value}}},{name:"BOM_DiscountRate",label:{text:"Discount %",alignment:"right",showColon:!1,location:"left"},dataField:"BOM_DiscountRate",editorType:"jDxNumberBox",editorOptions:{PropertyName:"BOM_DiscountRate",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"BOM_DiscountRate",max:100,min:0,format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.BOM_DiscountRate=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("BOM_DiscountRate",n)}},colSpan:1}]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:1,items:[{name:"BOM_SubTotal",label:{text:"SubTotal",alignment:"right",showColon:!1,location:"left"},dataField:"BOM_SubTotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"BOM_SubTotal",readOnly:!0,PropertyName:"BOM_SubTotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.BOM_SubTotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("BOM_SubTotal",n)},tabIndex:1e8},colSpan:1},{name:"BOM_DiscountAmt",label:{text:"Discount Amt",alignment:"right",showColon:!1,location:"left"},dataField:"BOM_DiscountAmt",editorType:"jDxNumberBox",editorOptions:{PropertyName:"BOM_DiscountAmt",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"BOM_DiscountAmt",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.BOM_DiscountAmt=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("BOM_DiscountAmt",n)}},colSpan:1},{name:"BOM_TotalAmount",label:{text:"Total Amount",alignment:"right",showColon:!1,location:"left"},dataField:"BOM_TotalAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"BOM_TotalAmount",readOnly:!0,PropertyName:"BOM_TotalAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.BOM_TotalAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("BOM_TotalAmount",n)},tabIndex:1e8},colSpan:1}]}]}},{title:"Services",isForm:!0,ID_Tab:294580,name:"ServiceTab",formOption:{bindingOptions:{"formData.ServiceSection":"$parent.$parent.CurrentObject.ServiceSection","formData.Service_SummaryTabC":"$parent.$parent.CurrentObject.Service_SummaryTabC","formData.Service_SummaryTabB":"$parent.$parent.CurrentObject.Service_SummaryTabB","formData.Service_SummaryTabA":"$parent.$parent.CurrentObject.Service_SummaryTabA","formData.Service_DiscountRate":"$parent.$parent.CurrentObject.Service_DiscountRate","formData.Service_IsLot":"$parent.$parent.CurrentObject.Service_IsLot","formData.Service_DiscountAmt":"$parent.$parent.CurrentObject.Service_DiscountAmt","formData.Service_TotalAmount":"$parent.$parent.CurrentObject.Service_TotalAmount","formData.Service_SubTotal":"$parent.$parent.CurrentObject.Service_SubTotal"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:4,onInitialized:function(n){n.component.option("$EditableProperties",["ServiceSection","Service_SummaryTabC","Service_SummaryTabB","Service_SummaryTabA","Opportunity_Services","Service_DiscountRate","Service_IsLot","Service_DiscountAmt"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setServiceSectionReadOnly!==undefined&&s.setServiceSectionReadOnly(n);s.setService_SummaryTabCReadOnly!==undefined&&s.setService_SummaryTabCReadOnly(n);s.setService_SummaryTabBReadOnly!==undefined&&s.setService_SummaryTabBReadOnly(n);s.setService_SummaryTabAReadOnly!==undefined&&s.setService_SummaryTabAReadOnly(n);s.setOpportunity_ServicesReadOnly!==undefined&&s.setOpportunity_ServicesReadOnly(n);s.setService_DiscountRateReadOnly!==undefined&&s.setService_DiscountRateReadOnly(n);s.setService_IsLotReadOnly!==undefined&&s.setService_IsLotReadOnly(n);s.setService_DiscountAmtReadOnly!==undefined&&s.setService_DiscountAmtReadOnly(n)},s.onServiceTab_TabFormInitialized!==undefined)s.onServiceTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="ServiceSection"||n.dataField==="Service_SummaryTabC"||n.dataField==="Service_SummaryTabB"||n.dataField==="Service_SummaryTabA"||n.dataField==="Opportunity_Services"||n.dataField==="Service_DiscountRate"||n.dataField==="Service_IsLot"||n.dataField==="Service_DiscountAmt"||n.dataField==="Service_TotalAmount"||n.dataField==="Service_SubTotal")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="Service_TotalAmount"||n.dataField==="Service_SubTotal")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:4,colSpan:4,items:[]},{itemType:"group",isShowLabel:!1,colCount:2,colSpan:4,items:[{name:"Opportunity_Services",label:{visible:!1},dataField:"Opportunity_Services",editorType:"jdxCustomView",editorOptions:{PropertyName:"Opportunity_Services",onViewRendered:function(n){var t,i;(s.$compile===undefined||s.$compile===null)&&(s.$compile=angular.element(document).injector().get("$compile"));$(n).css({"padding-right":"25px"});$(n).css({"padding-left":"25px"});s.$scope.Opportunity_ServicesDetailGrid_MenuOptions=s.GetGridMenuOption({dataSource:"Opportunity_Services_MenuOptions"});t=s.$compile("<div dx-menu='Opportunity_ServicesDetailGrid_MenuOptions' class='js-grid-toolbar dx-menu-right'><\/div>")(s.$scope);$(n).append(t);i=s.$compile('<div dx-data-grid="Opportunity_ServicesGridOption" class="Opportunity_Services form-details"><\/div>')(s.$scope);$(n).append(i)}},colSpan:4}]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:2,items:[]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:1,items:[{name:"Service_IsLot",label:{text:"1 Lot",alignment:"right",showColon:!1,location:"left"},dataField:"Service_IsLot",editorType:"dxCheckBox",editorOptions:{PropertyName:"Service_IsLot",onInitialized:function(n){s.onControl_Initialized("Service_IsLot",n)},onValueChanged:function(n){s.$scope.CurrentObject.Service_IsLot=n.value}},colSpan:1},{name:"Service_DiscountRate",label:{text:"Discount %",alignment:"right",showColon:!1,location:"left"},dataField:"Service_DiscountRate",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Service_DiscountRate",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"Service_DiscountRate",max:100,min:0,format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Service_DiscountRate=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Service_DiscountRate",n)}},colSpan:1}]},{itemType:"group",isShowLabel:!1,colCount:1,colSpan:1,items:[{name:"Service_SubTotal",label:{text:"SubTotal",alignment:"right",showColon:!1,location:"left"},dataField:"Service_SubTotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Service_SubTotal",readOnly:!0,PropertyName:"Service_SubTotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Service_SubTotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Service_SubTotal",n)},tabIndex:1e8},colSpan:1},{name:"Service_DiscountAmt",label:{text:"Discount Amt",alignment:"right",showColon:!1,location:"left"},dataField:"Service_DiscountAmt",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Service_DiscountAmt",onKeyDown:function(){s.$isReloadCurrentObject=!1},PropertyName:"Service_DiscountAmt",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Service_DiscountAmt=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Service_DiscountAmt",n)}},colSpan:1},{name:"Service_TotalAmount",label:{text:"Total Amount",alignment:"right",showColon:!1,location:"left"},dataField:"Service_TotalAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Service_TotalAmount",readOnly:!0,PropertyName:"Service_TotalAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Service_TotalAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Service_TotalAmount",n)},tabIndex:1e8},colSpan:1}]}]}},{isForm:!1,Caption:"Payment Terms",Name:"Opportunity_PaymentTermssGridContainer",title:"Payment Terms",PropertyName:"Opportunity_PaymentTermss",DisplayProperty:"Name",GridOption:s.$scope.Opportunity_PaymentTermssGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.Opportunity_PaymentTermss_MenuOptions"})},{title:"Others",isForm:!0,ID_Tab:20462,name:"OthersTab",formOption:{bindingOptions:{"formData.ID_ContactB":"$parent.$parent.CurrentObject.ID_ContactB","formData.ID_ContactC":"$parent.$parent.CurrentObject.ID_ContactC","formData.ID_OpportunityReason":"$parent.$parent.CurrentObject.ID_OpportunityReason","formData.PrincipalTenderExprDate":"$parent.$parent.CurrentObject.PrincipalTenderExprDate","formData.ID_MediaSource":"$parent.$parent.CurrentObject.ID_MediaSource"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["ID_ContactB","ID_ContactC","ID_OpportunityReason","PrincipalTenderExprDate","ID_MediaSource"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setID_ContactBReadOnly!==undefined&&s.setID_ContactBReadOnly(n);s.setID_ContactCReadOnly!==undefined&&s.setID_ContactCReadOnly(n);s.setID_OpportunityReasonReadOnly!==undefined&&s.setID_OpportunityReasonReadOnly(n);s.setPrincipalTenderExprDateReadOnly!==undefined&&s.setPrincipalTenderExprDateReadOnly(n);s.setID_MediaSourceReadOnly!==undefined&&s.setID_MediaSourceReadOnly(n)},s.onOthersTab_TabFormInitialized!==undefined)s.onOthersTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:n.dataField==="PrincipalTenderExprDate"&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),s.$scope.CurrentObject.$dirty=!0)},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"ID_ContactB",label:{text:"Contact Person 2",alignment:"right",showColon:!1,location:"left"},dataField:"ID_ContactB",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_ContactB",SQL:"LnmB71zN/LSZB3o4ga5LzOrRv93jO2orjX1gZRaCz3HP+k8jVw9UGwMxGVbt9fCUFK/LKWJEOUIHjj7AvkAOw0paCzzBS7uCWFa/FvyFq41E7hpgyk95ElXIxuLUtK9bI8e+nwgk3EahFhSsnl2nGaXdVhOuGDktO37GEyJbJoVHloQeYyIKiasJFWOY/eLZ2GMYFSmSkLloBfidtOdiNYArShQE6HI47SQTyIIB1eBDH8RdrotAnq4VuJBob6l+MsRh34gWT9QaOYoNOW8EcGItbhacj56Dj/SkA98pS/0=",IsDeveloperMode:!1,ID_Control:12107,ID_ModelProperty:9126,ControlName:"ID_ContactB",DisplayProperty:"ContactB",CurrentObject:s.CurrentObject,FormatKey:"CE1B521B-F531-468B-9957-13A2B1E2A65D",ModelOption:{ID_DetailView:6250,ModelPropertyName:"Contact Person 2",IsModal:s.IsModal===!0,ID_Model_Caller:3181,Icon:"mdi mdi-account-card-details"},Columns:["ID","Name"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_ContactB!=null&&(t=[{ID:s.$scope.CurrentObject.ID_ContactB,Name:s.$scope.CurrentObject.ContactB}],s.$scope.CurrentObject.EXPR_ID_ContactB=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_ContactB",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_ContactB=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactB",value:t})});s.$scope.CurrentObject.ID_ContactB=t!==null?t.ID:null;s.$scope.CurrentObject.ContactB=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactB",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.ContactB};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID_Customer=s.$scope.CurrentObject.ID_Customer;n.params.ID_ContactA=s.$scope.CurrentObject.ID_ContactA;n.params.ID_ContactC=s.$scope.CurrentObject.ID_ContactC;console.log("onLoad",n.params)}}},{name:"ID_ContactC",label:{text:"Contact Person 3",alignment:"right",showColon:!1,location:"left"},dataField:"ID_ContactC",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_ContactC",SQL:"8BbzGIBtO1u1tGcn/Yx+m/081TSWqT+1Xzirbngt+Ekq6m9ONs5xMNLnx8bLIjFKZl/vRIAZKReJKFPRqdr/9TBRRODb88Q/r9lfRJrZ9p90XAKLoNLLt3Vy9VxlEeea7FzYxXEYE1ka98RPyRB4N1Lna+H95QTYqClByWkMjcvaLHTW7Q3q5R60KCoPunaXoPV6vDAM4rgW/pq5OSOGIOdOI7sdq1CDNkl6RqnbcRi6wKEma1MxM5AW6kNacD/IQ8A99FE6MSvq71iyzIC9oNUbnUzuGRfQMfrM2npNDJ8=",IsDeveloperMode:!1,ID_Control:12108,ID_ModelProperty:9127,ControlName:"ID_ContactC",DisplayProperty:"ContactC",CurrentObject:s.CurrentObject,FormatKey:"F1A26B35-FD57-4FE9-A8FF-576A8F4C55E6",ModelOption:{ID_DetailView:6250,ModelPropertyName:"Contact Person 3",IsModal:s.IsModal===!0,ID_Model_Caller:3181,Icon:"mdi mdi-account-card-details"},Columns:["ID","Name"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_ContactC!=null&&(t=[{ID:s.$scope.CurrentObject.ID_ContactC,Name:s.$scope.CurrentObject.ContactC}],s.$scope.CurrentObject.EXPR_ID_ContactC=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_ContactC",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_ContactC=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactC",value:t})});s.$scope.CurrentObject.ID_ContactC=t!==null?t.ID:null;s.$scope.CurrentObject.ContactC=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_ContactC",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.ContactC};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID_Customer=s.$scope.CurrentObject.ID_Customer;n.params.ID_ContactB=s.$scope.CurrentObject.ID_ContactB;n.params.ID_ContactA=s.$scope.CurrentObject.ID_ContactA;console.log("onLoad",n.params)}}},{name:"ID_OpportunityReason",label:{text:"Reason For Losing ",alignment:"right",showColon:!1,location:"left"},dataField:"ID_OpportunityReason",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_OpportunityReason",showClearButton:!0,items:[{ID:1,Name:"Lost to Competitor"},{ID:2,Name:"No Budget / Lost Funding"},{ID:3,Name:"No Decision / Non-Responsive"},{ID:4,Name:"Price"},{ID:5,Name:"Other"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_OpportunityReason",value:t});s.$scope.CurrentObject.ID_OpportunityReason=t!==null?t.ID:null;s.$scope.CurrentObject.OpportunityReason=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_OpportunityReason",n)},displayExpr:"Name",valueExpr:"ID"}},{name:"PrincipalTenderExprDate",label:{text:"Reg. Expr Date",alignment:"right",showColon:!1,location:"left"},dataField:"PrincipalTenderExprDate",editorType:"dxDateBox",editorOptions:{PropertyName:"PrincipalTenderExprDate",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("PrincipalTenderExprDate",n)}}},{name:"ID_MediaSource",label:{text:"Media Source",alignment:"right",showColon:!1,location:"left"},dataField:"ID_MediaSource",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_MediaSource",showClearButton:!0,items:[{ID:1,Name:"Others"},{ID:2,Name:"Existing"},{ID:3,Name:"Event"},{ID:4,Name:"Employee Referral"},{ID:5,Name:"Power Hour "},{ID:6,Name:"Purchased List"},{ID:7,Name:"Partner"},{ID:8,Name:"Advertisement"},{ID:9,Name:"Flyer Distribution"},{ID:10,Name:"Google AdWords"},{ID:11,Name:"Website"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_MediaSource",value:t});s.$scope.CurrentObject.ID_MediaSource=t!==null?t.ID:null;s.$scope.CurrentObject.ID_MediaSource_DisplayName=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_MediaSource",n)},displayExpr:"Name",valueExpr:"ID"}}]}]}},{title:"Proposal History",isForm:!0,ID_Tab:294806,name:"ProposalTab",formOption:{bindingOptions:{"formData.ProposalHistoryGrid":"$parent.$parent.CurrentObject.ProposalHistoryGrid"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["ProposalHistoryGrid"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setProposalHistoryGridReadOnly!==undefined&&s.setProposalHistoryGridReadOnly(n)},s.onProposalTab_TabFormInitialized!==undefined)s.onProposalTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0&&(s.$scope.CurrentObject.$dirty=!1)},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"ProposalHistoryGrid",label:{visible:!1},dataField:"ProposalHistoryGrid",editorType:"jdxGridView",editorOptions:{PropertyName:"ProposalHistoryGrid",SQL:"Zo4sXiL7krbK6+06afJHG9IGnrJuAC9OjE28dc4izy63O7awjqvwtClm/EjJj8FFj6oHZvv0pQz8HKAGUw+Kgiy6U3Zok/cY3Bj3CwpylqImhUgsaH1xzwXUfX53mwnXY/PZM04G3JYSLCOmAljR+XssMdPsvgqdfm5e/MbpRBEjGO20la982ytd9orkNylgpCLwZUyuWkrK07y7IdiZpX4Ot+xs+Ig1njQ8UOS2jyC0wUEbEJJnBWywIq6VqemIxyPOOHByXeFxv+TRHovEiqrZbfKbINVtTArIlWx3WSQ=",height:"300px",ID_View:"",OnGridInit:function(n){s.$GridControlList==undefined&&(s.$GridControlList=[]);s.$GridControlList.push(n)},onLoad:function(n){(n.params==null||n.params==undefined)&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID;console.log("onLoad",n.params)}}}]}]}}],s.$scope.GridTabPanelControlOption={items:s.$scope.GeneralGridTabPabelItems,onItemClick:s.onTab_Click,onInitialized:function(n){if(s.GridTabPanelControl=n.component,s.onTabInitialized!==undefined)s.onTabInitialized(n)},deferRendering:!1,swipeEnabled:!1,itemTemplate:"dxDataGrid",scrollByContent:!0,loop:!1,animationEnabled:!1},s.$scope.CurrentObject.CRUD={Main:3181,Opportunity_Details:3182,Opportunity_Services:12481,Opportunity_BOMs:12479,Opportunity_PaymentTermss:12480},s.$dateFields.push("DateCreated"),s.$dateFields.push("DateModified"),s.$dateFields.push("TargerCloseDate"),s.$dateFields.push("WonLostDate"),s.$dateFields.push("PrincipalTenderExprDate"),s.$dateFields.push("LastDateChanged"),s.$dateFields.push("DiaryDate"),s.$dateFields.push("DateEngaged"),s.$dateFields.push("FollowUpDate"),s.ModelHelper!=null){s.ModelHelper.Init(this);s.ModelHelper.onInitDetailView(this)}if(s.ViewHelper!=null){s.ViewHelper.Init(this);s.ViewHelper.onInitDetailView(this)}},r})    