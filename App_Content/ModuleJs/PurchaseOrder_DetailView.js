define(["app","baseDetailViewController","/JsApp/GetScript?Url=Doc%2fAP%2fOrder%2fVC_PurchaseOrder"],function(n,t,i){var r=function(){var t=this,n=arguments;t.ModelHelper=new i;t.ModelHelper.ID_ViewType=2;t.Init(n[0],n[1],n[2],n[3],n[4],n[5],n[6])};return r.prototype=Object.create(t.prototype),r.prototype.Init=function(n,i,r,u,f,e,o){var s=this,h;s.IsEmptyString=function(n){return n===undefined||n===null?!0:n.replace(" ","").length===0?!0:!1};n.DisplayName="Purchase Order";n.DisplayPropertyName=i.ID==-1?"(New)":s.IsEmptyString(i.DocumentNo)==!0?"":i.DocumentNo;s.DisplayProperty="DocumentNo";s.ID_ModelObject=1026;s.ID_View=1108;s.ID_Model=65;s.ModelViewName="PurchaseOrder_DetailView";s.ModelName="PurchaseOrder";s.DisplayName="Purchase Order";s.IsEditingOnly=!1;s.IsDeveloperMode=!1;s.$isAllowAdd=!0;s.$isAllowEdit=!0;s.CRUDTablesIds={Main:65,PurchaseOrderDetails:66};t.prototype.Init.call(this,n,i,r,u,f,e,o);var l=i,c=s.GetControlDataSource("OPIci42WUcIaSl1kIabcQzPXGMdQDJn1HvVm5K3yEJENqDVAk+wtx99vYP2NIUZ5mkM+XlELtPJim9Ku/TT8Xdi7TRUtgOdjsOmt7jJIlAopCuURpfemxU2l1y6LOrYL7HA1ohy8P1afHmFz7HF74DLE3MDHWFDegcNzvSkrSyM=");if(s.$scope.GeneralFormOptions={bindingOptions:{"formData.ID_PaymentTerm":"CurrentObject.ID_PaymentTerm","formData.Address":"CurrentObject.Address","formData.CashAdvance":"CurrentObject.CashAdvance","formData.CASubtotal":"CurrentObject.CASubtotal","formData.CATotalVat":"CurrentObject.CATotalVat","formData.Comment":"CurrentObject.Comment","formData.DateModified":"CurrentObject.DateModified","formData.DeliveryDate":"CurrentObject.DeliveryDate","formData.DocumentNo":"CurrentObject.DocumentNo","formData.Date":"CurrentObject.Date","formData.DateApproved":"CurrentObject.DateApproved","formData.DateCancelled":"CurrentObject.DateCancelled","formData.DateCreated":"CurrentObject.DateCreated","formData.ID_TransactionType":"CurrentObject.ID_TransactionType","formData.isChecked":"CurrentObject.isChecked","formData.IsDeliverClient":"CurrentObject.IsDeliverClient","formData.CheckedBy":"CurrentObject.CheckedBy","formData.ID_Currency":"CurrentObject.ID_Currency","formData.DetailCount":"CurrentObject.DetailCount","formData.PrePayment":"CurrentObject.PrePayment","formData.ID_PurchaseOrderType":"CurrentObject.ID_PurchaseOrderType","formData.ID_ShipWarehouse":"CurrentObject.ID_ShipWarehouse","formData.ID_TaxScheme":"CurrentObject.ID_TaxScheme","formData.ShipAddress":"CurrentObject.ShipAddress","formData.ShipContact":"CurrentObject.ShipContact","formData.ShipTIN":"CurrentObject.ShipTIN","formData.Shipto":"CurrentObject.Shipto","formData.IsImported":"CurrentObject.IsImported","formData.Payee":"CurrentObject.Payee","formData.Subtotal":"CurrentObject.Subtotal","formData.TotalAmount":"CurrentObject.TotalAmount","formData.TotalQty":"CurrentObject.TotalQty","formData.Reason":"CurrentObject.Reason","formData.RemainingCAPayable":"CurrentObject.RemainingCAPayable","formData.TotalVat":"CurrentObject.TotalVat","formData.VatRate":"CurrentObject.VatRate","formData.ID_BusinessPartner":"CurrentObject.ID_BusinessPartner","formData.ID_Contact":"CurrentObject.ID_Contact","formData.CreatedBy":"CurrentObject.CreatedBy","formData.LastModifiedBy":"CurrentObject.LastModifiedBy","formData.ApprovedBy":"CurrentObject.ApprovedBy","formData.CancelledBy":"CurrentObject.CancelledBy"},formData:s.$scope.CurrentObject,customizeItem:s.customizeItem,onInitialized:function(n){$(n.element).addClass("generalform");s.$timeout(function(){s.firstFieldIndex="ID_BusinessPartner";s.FormInstance=n.component;s.FormInstance.option("$EditableProperties",["ID_PaymentTerm","Address","CashAdvance","Comment","DeliveryDate","Date","ID_TransactionType","isChecked","IsDeliverClient","ID_Currency","PrePayment","ID_PurchaseOrderType","ID_ShipWarehouse","ID_TaxScheme","ShipAddress","ShipContact","ShipTIN","Shipto","IsImported","Payee","ID_BusinessPartner","ID_Contact"]);s.OnFormInitialized();s.setFormReadOnly=function(n){if(s.IsFormReadOnly!==n){s.IsFormReadOnly=n;s.$fileUploaders!==undefined&&s.$fileUploaders!==null&&s.$fileUploaders.length>0&&$.each(s.$fileUploaders,function(t,i){i.component!==undefined?i.component.option("readOnly",!n):i.option("readOnly",!n)});$.each(s.DetailViewForms,function(t,i){i.setFormReadOnly(n)});s.setID_PaymentTermReadOnly!==undefined&&s.setID_PaymentTermReadOnly(n);s.setAddressReadOnly!==undefined&&s.setAddressReadOnly(n);s.setCashAdvanceReadOnly!==undefined&&s.setCashAdvanceReadOnly(n);s.setCommentReadOnly!==undefined&&s.setCommentReadOnly(n);s.setDeliveryDateReadOnly!==undefined&&s.setDeliveryDateReadOnly(n);s.setDateReadOnly!==undefined&&s.setDateReadOnly(n);s.setID_TransactionTypeReadOnly!==undefined&&s.setID_TransactionTypeReadOnly(n);s.setisCheckedReadOnly!==undefined&&s.setisCheckedReadOnly(n);s.setIsDeliverClientReadOnly!==undefined&&s.setIsDeliverClientReadOnly(n);s.setID_CurrencyReadOnly!==undefined&&s.setID_CurrencyReadOnly(n);s.setReadOnly!==undefined&&s.setReadOnly(n);s.setPrePaymentReadOnly!==undefined&&s.setPrePaymentReadOnly(n);s.setID_PurchaseOrderTypeReadOnly!==undefined&&s.setID_PurchaseOrderTypeReadOnly(n);s.setID_ShipWarehouseReadOnly!==undefined&&s.setID_ShipWarehouseReadOnly(n);s.setID_TaxSchemeReadOnly!==undefined&&s.setID_TaxSchemeReadOnly(n);s.setShipAddressReadOnly!==undefined&&s.setShipAddressReadOnly(n);s.setShipContactReadOnly!==undefined&&s.setShipContactReadOnly(n);s.setShipTINReadOnly!==undefined&&s.setShipTINReadOnly(n);s.setShiptoReadOnly!==undefined&&s.setShiptoReadOnly(n);s.setIsImportedReadOnly!==undefined&&s.setIsImportedReadOnly(n);s.setPayeeReadOnly!==undefined&&s.setPayeeReadOnly(n);s.setID_BusinessPartnerReadOnly!==undefined&&s.setID_BusinessPartnerReadOnly(n);s.setID_ContactReadOnly!==undefined&&s.setID_ContactReadOnly(n);$.each(["PurchaseOrderDetails"],function(t,i){s["set"+i+"GridEnabled"]!==undefined&&s["set"+i+"GridEnabled"](!n)});s.ChildToolbars!==undefined&&$.each(s.ChildToolbars,function(t,i){i.option("dataSource")!=undefined&&$.each(i.option("dataSource"),function(t,i){(i.isSystem==undefined||i.isSystem!=!0)&&(i.disabled=n)})});s.onSetFormReadOnly(n)}};s.onLoad()},500)},onFieldDataChanged:function(n){s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:((n.dataField==="Address"||n.dataField==="CashAdvance"||n.dataField==="CASubtotal"||n.dataField==="CATotalVat"||n.dataField==="Comment"||n.dataField==="DateModified"||n.dataField==="DeliveryDate"||n.dataField==="DocumentNo"||n.dataField==="ID"||n.dataField==="Date"||n.dataField==="DateApproved"||n.dataField==="DateCanceled"||n.dataField==="DateCreated"||n.dataField==="isChecked"||n.dataField==="IsDeliverClient"||n.dataField==="ID_CheckedBy"||n.dataField==="DetailCount"||n.dataField==="PrePayment"||n.dataField==="ShipAddress"||n.dataField==="ShipContact"||n.dataField==="ShipTIN"||n.dataField==="Shipto"||n.dataField==="IsImported"||n.dataField==="Payee"||n.dataField==="Subtotal"||n.dataField==="TotalAmount"||n.dataField==="TotalQty"||n.dataField==="Reason"||n.dataField==="RemainingCAPayable"||n.dataField==="TotalVat"||n.dataField==="VatRate"||n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CanceledBy")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),n.dataField!=="CASubtotal"&&n.dataField!=="CATotalVat"&&n.dataField!=="DateModified"&&n.dataField!=="DocumentNo"&&n.dataField!=="ID"&&n.dataField!=="DateApproved"&&n.dataField!=="DateCanceled"&&n.dataField!=="DateCreated"&&n.dataField!=="ID_CheckedBy"&&n.dataField!=="DetailCount"&&n.dataField!=="Subtotal"&&n.dataField!=="TotalAmount"&&n.dataField!=="TotalQty"&&n.dataField!=="Reason"&&n.dataField!=="RemainingCAPayable"&&n.dataField!=="TotalVat"&&n.dataField!=="VatRate"&&n.dataField!=="ID_CreatedBy"&&n.dataField!=="ID_LastModifiedBy"&&n.dataField!=="ID_ApprovedBy"&&n.dataField!=="ID_CanceledBy"&&(s.$scope.CurrentObject.$dirty=!0)),s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()}))},scrollingEnabled:!0,height:function(){return"89%"},items:[{itemType:"tabbed",tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized,onItemClick:s.onTab_Click},tabs:[{title:"General",ID_Tab:-1,items:[{itemType:"group",colCount:1,tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized},items:[{itemType:"group",caption:"Information",IsShowLabel:!0,colCount:1,colSpan:1,items:[{name:"DocumentNo",label:{text:"PO No.",alignment:"right",showColon:!1,location:"left"},dataField:"DocumentNo",editorType:"dxTextBox",editorOptions:{PropertyName:"DocumentNo",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("DocumentNo",n)},tabIndex:1e8}},{name:"Date",label:{text:"PO Date",alignment:"right",showColon:!1,location:"left"},dataField:"Date",editorType:"dxDateBox",editorOptions:{PropertyName:"Date",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("Date",n)},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify PO Date"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"PO Date is required"}],cssClass:"js-dx-required"},{name:"ID_TransactionType",label:{text:"Type",alignment:"right",showColon:!1,location:"left"},dataField:"ID_TransactionType",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_TransactionType",showClearButton:!1,items:[{ID:2,Name:"Non-Trade"},{ID:1,Name:"Trade"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_TransactionType",value:t});s.$scope.CurrentObject.ID_TransactionType=t!==null?t.ID:null;s.$scope.CurrentObject.ID_TransactionType_DisplayName=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_TransactionType",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Type"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Type is required"}],cssClass:"js-dx-required"},{name:"ID_PurchaseOrderType",label:{text:"PO Type",alignment:"right",showColon:!1,location:"left"},dataField:"ID_PurchaseOrderType",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_PurchaseOrderType",showClearButton:!1,items:[{ID:3,Name:"For Consignment"},{ID:2,Name:"For Freebie"},{ID:1,Name:"For Replenishment"},{ID:4,Name:"For Special Order"},{ID:6,Name:"For Stocks"}],searchEnabled:!1,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_PurchaseOrderType",value:t});s.$scope.CurrentObject.ID_PurchaseOrderType=t!==null?t.ID:null;s.$scope.CurrentObject.PurchaseOrderType=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_PurchaseOrderType",n)},displayExpr:"Name",valueExpr:"ID"}},{name:"ID_BusinessPartner",label:{text:"Supplier",alignment:"right",showColon:!1,location:"left"},dataField:"ID_BusinessPartner",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_BusinessPartner",SQL:"wI9nL1gg3gDneEaEid/Z3KPdGs0BojL1mm+x0Q33YOszqoNFViBOSy+DZqjYQ/C7XUf1+mMJkiXbhj030sB8hFNaSOgTzFAIHcoAEIIBQre8Q9TRCl9KLYxfIP5gilPeY5D3gJxQuDJD4caTOzaVGD7VPpIKE8qb+obx8rDNOnCyIOs1myLgWXsIhgVPn2gpxlnWCi2YjN8Ix4cBVBC7fu7V8kiXtUMfN2tQ11kTwaRlmF7tj8oxB4CaArdFCfjJ",IsDeveloperMode:!1,ID_Control:1219,ID_ModelProperty:507,ControlName:"ID_BusinessPartner",DisplayProperty:"Supplier",CurrentObject:s.CurrentObject,FormatKey:"4276E66E-8243-4DFF-98AB-1AA975CD6CB1",ModelOption:{ID_DetailView:3102,ModelPropertyName:"Supplier",IsModal:s.IsModal===!0,ID_Model_Caller:65,Icon:"mdi mdi-contact-mail"},Columns:["ID","Name","Address"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_BusinessPartner!=null&&(t=[{ID:s.$scope.CurrentObject.ID_BusinessPartner,Name:s.$scope.CurrentObject.Supplier}],s.$scope.CurrentObject.EXPR_ID_BusinessPartner=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_BusinessPartner",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_BusinessPartner=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_BusinessPartner",value:t})});s.$scope.CurrentObject.ID_BusinessPartner=t!==null?t.ID:null;s.$scope.CurrentObject.Supplier=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_BusinessPartner",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.Supplier};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Supplier"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Supplier is required"}],cssClass:"js-dx-required"},{name:"Payee",label:{text:"Payee Name",alignment:"right",showColon:!1,location:"left"},dataField:"Payee",editorType:"dxTextBox",editorOptions:{PropertyName:"Payee",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("Payee",n)}}},{name:"Address",label:{text:"Address",alignment:"right",showColon:!1,location:"left"},dataField:"Address",editorType:"dxTextArea",editorOptions:{PropertyName:"Address",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:100,onInitialized:function(n){s.onControl_Initialized("Address",n)}}},{name:"ID_Contact",label:{text:"Contact Person",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Contact",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_Contact",SQL:"RhfCHSsQooAU8/flUcLQDuHwh8eUUmwf3nOXIJ1+LxT4VxregTuXWF1v4bc6XLcpqSUVE0alCUxWQHqyDHbQ2LJBrHZCVBJg4l/RkYnriTg7E6g51SNHaxmmsmv21Oy+TqzcQs1cI830fF8E9hv8oGwy8dDnoehnNrAR1G4Rh6oRKKupfew2VeslxQXfjjSFk7304VVE6qgpPaXbT5Yx5A==",IsDeveloperMode:!1,ID_Control:8313,ID_ModelProperty:7479,ControlName:"ID_Contact",DisplayProperty:"Contact",CurrentObject:s.CurrentObject,FormatKey:"71DFA954-F0E0-4AA2-93AB-90E3EA83DBDA",ModelOption:{ID_DetailView:3117,ModelPropertyName:"Contact Person",IsModal:s.IsModal===!0,ID_Model_Caller:65,Icon:"mdi mdi-account-card-details"},Columns:["ID","Name"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_Contact!=null&&(t=[{ID:s.$scope.CurrentObject.ID_Contact,Name:s.$scope.CurrentObject.Contact}],s.$scope.CurrentObject.EXPR_ID_Contact=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_Contact",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_Contact=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Contact",value:t})});s.$scope.CurrentObject.ID_Contact=t!==null?t.ID:null;s.$scope.CurrentObject.Contact=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Contact",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.Contact};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID_BusinessPartner=s.$scope.CurrentObject.ID_BusinessPartner;console.log("onLoad",n.params)}}},{name:"ID_PaymentTerm",label:{text:"Payment Term",alignment:"right",showColon:!1,location:"left"},dataField:"ID_PaymentTerm",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_PaymentTerm",showClearButton:!0,items:[{ID:75,Name:" 3 Months"},{ID:80,Name:"10 days"},{ID:82,Name:"100%  Advance"},{ID:13,Name:"12 Months"},{ID:77,Name:"12 Months"},{ID:3,Name:"15 Days"},{ID:72,Name:"21 Days"},{ID:14,Name:"24 Months\r\n"},{ID:81,Name:"3 DAYS"},{ID:4,Name:"30 Days"},{ID:15,Name:"36 Months"},{ID:5,Name:"45 Days"},{ID:76,Name:"6 Months"},{ID:6,Name:"60 Days"},{ID:2,Name:"7 Days"},{ID:7,Name:"90 Days"},{ID:1,Name:"COD"},{ID:73,Name:"Consignment"},{ID:78,Name:"Monthly"},{ID:9,Name:"PDC 15 Days\r\n"},{ID:10,Name:"PDC 30 Days"},{ID:11,Name:"PDC 45 Days"},{ID:12,Name:"PDC 60 Days"},{ID:8,Name:"PDC 7 Days\r\n"},{ID:74,Name:"Progress Billing"},{ID:79,Name:"Quarterly"},{ID:83,Name:"Semi-Annual"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_PaymentTerm",value:t});s.$scope.CurrentObject.ID_PaymentTerm=t!==null?t.ID:null;s.$scope.CurrentObject.PaymentTerm=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_PaymentTerm",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Payment Term"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Payment Term is required"}],cssClass:"js-dx-required"},{name:"DeliveryDate",label:{text:"Delivery Date",alignment:"right",showColon:!1,location:"left"},dataField:"DeliveryDate",editorType:"dxDateBox",editorOptions:{PropertyName:"DeliveryDate",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DeliveryDate",n)}}},{name:"ID_Currency",label:{text:"Currency",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Currency",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_Currency",showClearButton:!0,items:[{ID:1,Name:"Philippine Peso",Conversion:1},{ID:2,Name:"US Dollar",Conversion:49.34},{ID:3,Name:"Japan Yen",Conversion:1.49},{ID:4,Name:"EURO",Conversion:null},{ID:5,Name:"SGD Dollar",Conversion:null},{ID:6,Name:"United Arab Emirates Dirham",Conversion:null}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_Currency",value:t});s.$scope.CurrentObject.ID_Currency=t!==null?t.ID:null;s.$scope.CurrentObject.Currency=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_Currency",n)},displayExpr:"Name",valueExpr:"ID"}},{name:"IsImported",label:{text:"Imported",alignment:"right",showColon:!1,location:"left"},dataField:"IsImported",editorType:"dxCheckBox",editorOptions:{PropertyName:"IsImported",onInitialized:function(n){s.onControl_Initialized("IsImported",n)},onValueChanged:function(n){s.$scope.CurrentObject.IsImported=n.value}}}]},{itemType:"group",colCount:1,IsShowLabel:!0,colSpan:1,caption:"Total",items:[{name:"ID_TaxScheme",label:{text:"Tax Scheme",alignment:"right",showColon:!1,location:"left"},dataField:"ID_TaxScheme",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_TaxScheme",showClearButton:!0,items:[{ID:1,Name:"VAT Exclusive"},{ID:2,Name:"VAT Inclusive"},{ID:3,Name:"Zero Rated"},{ID:4,Name:"Billing Only"}],searchEnabled:!0,searchMode:"contains",onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_TaxScheme",value:t});s.$scope.CurrentObject.ID_TaxScheme=t!==null?t.ID:null;s.$scope.CurrentObject.TaxScheme=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_TaxScheme",n)},displayExpr:"Name",valueExpr:"ID",onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify Tax Scheme"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"Tax Scheme is required"}],cssClass:"js-dx-required"},{name:"VatRate",label:{text:"VAT Rate",alignment:"right",showColon:!1,location:"left"},dataField:"VatRate",editorType:"jDxNumberBox",editorOptions:{PropertyName:"VatRate",readOnly:!0,PropertyName:"VatRate",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.VatRate=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("VatRate",n)},tabIndex:1e8}},{name:"TotalVat",label:{text:"VAT Amount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalVat",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalVat",readOnly:!0,PropertyName:"TotalVat",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalVat=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalVat",n)},tabIndex:1e8}},{name:"Subtotal",label:{text:"Subtotal",alignment:"right",showColon:!1,location:"left"},dataField:"Subtotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"Subtotal",readOnly:!0,PropertyName:"Subtotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.Subtotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("Subtotal",n)},tabIndex:1e8}}]},{itemType:"group",colCount:1,IsShowLabel:!0,colSpan:1,caption:"Total",items:[{name:"DetailCount",label:{text:"Detail Count",alignment:"right",showColon:!1,location:"left"},dataField:"DetailCount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"DetailCount",readOnly:!0,PropertyName:"DetailCount",format:"#0%",onInitialized:function(n){s.onControl_Initialized("DetailCount",n)},tabIndex:1e8}},{name:"TotalQty",label:{text:"Total Qty",alignment:"right",showColon:!1,location:"left"},dataField:"TotalQty",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalQty",readOnly:!0,PropertyName:"TotalQty",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalQty=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalQty",n)},tabIndex:1e8}},{name:"TotalAmount",label:{text:"Total Amount",alignment:"right",showColon:!1,location:"left"},dataField:"TotalAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"TotalAmount",readOnly:!0,PropertyName:"TotalAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.TotalAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("TotalAmount",n)},tabIndex:1e8}}]}]}]},{ID_Tab:294006,title:"Ship To",colCount:1,items:[{name:"IsDeliverClient",label:{text:"Deliver to Client",alignment:"right",showColon:!1,location:"left"},dataField:"IsDeliverClient",editorType:"dxCheckBox",editorOptions:{PropertyName:"IsDeliverClient",onInitialized:function(n){s.onControl_Initialized("IsDeliverClient",n)},onValueChanged:function(n){s.$scope.CurrentObject.IsDeliverClient=n.value}}},{name:"ID_ShipWarehouse",label:{text:"Warehouse",alignment:"right",showColon:!1,location:"left"},dataField:"ID_ShipWarehouse",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_ShipWarehouse",showClearButton:!0,searchEnabled:!0,searchMode:"contains",dataSource:c,onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_ShipWarehouse",value:t});s.$scope.CurrentObject.ID_ShipWarehouse=t!==null?t.ID:null;s.$scope.CurrentObject.ShipWarehouse=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_ShipWarehouse",n)},displayExpr:"Name",valueExpr:"ID"}},{name:"Shipto",label:{text:"Ship to",alignment:"right",showColon:!1,location:"left"},dataField:"Shipto",editorType:"dxTextBox",editorOptions:{PropertyName:"Shipto",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("Shipto",n)}}},{name:"ShipContact",label:{text:"Contact #",alignment:"right",showColon:!1,location:"left"},dataField:"ShipContact",editorType:"dxTextBox",editorOptions:{PropertyName:"ShipContact",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("ShipContact",n)}}},{name:"ShipAddress",label:{text:"Address",alignment:"right",showColon:!1,location:"left"},dataField:"ShipAddress",editorType:"dxTextArea",editorOptions:{PropertyName:"ShipAddress",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:200,onInitialized:function(n){s.onControl_Initialized("ShipAddress",n)}}},{name:"ShipTIN",label:{text:"TIN #",alignment:"right",showColon:!1,location:"left"},dataField:"ShipTIN",editorType:"dxTextBox",editorOptions:{PropertyName:"ShipTIN",onKeyDown:function(){s.$isReloadCurrentObject=!1},onInitialized:function(n){s.onControl_Initialized("ShipTIN",n)}}}]}]}]},h=[{ID:1,Name:"PACK"},{ID:2,Name:"SET"},{ID:3,Name:"PAIR"},{ID:4,Name:"PC"},{ID:5,Name:"BOX"},{ID:6,Name:"LOT"},{ID:7,Name:"MTR."},{ID:9,Name:"UNIT"},{ID:10,Name:"MM"},{ID:11,Name:"CM"},{ID:12,Name:"INCH"},{ID:13,Name:"FT-IN"},{ID:14,Name:"INCH"},{ID:15,Name:"FEET"},{ID:16,Name:"M"},{ID:17,Name:"G"},{ID:18,Name:"P"},{ID:19,Name:"KG"},{ID:20,Name:"TON"},{ID:21,Name:"S"},{ID:22,Name:"M"},{ID:23,Name:"H"},{ID:24,Name:"T"},{ID:25,Name:"ML"},{ID:26,Name:"PT"},{ID:27,Name:"L"},{ID:28,Name:"GL"},{ID:29,Name:"SQ MM"},{ID:30,Name:"SQ CM"},{ID:31,Name:"SQ IN"},{ID:32,Name:"SQ FT"},{ID:33,Name:"SQ M"},{ID:34,Name:"Roll"},{ID:35,Name:null},{ID:36,Name:"M3"},{ID:37,Name:"2M3"},{ID:38,Name:null},{ID:39,Name:"Dozen"},{ID:40,Name:"SPOT"},{ID:41,Name:null},{ID:42,Name:"YR"},{ID:43,Name:"QTR"}],s.$scope.PurchaseOrderDetailsGridOption=s.GetDetailGridOption("PurchaseOrder_Detail_ListView","$parent.$parent.CurrentObject.PurchaseOrderDetails","PurchaseOrderDetails",[{editorOptions:{min:0},ID_ModelProperty:518,ID_Column:548,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:527,ID_Column:557,dataField:"ID_Item",allowFixing:!0,visible:!1,caption:"Item",width:148,alignment:"left",fixed:!0,allowEditing:!0,dataType:"object",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_Item",DisplayProperty:"Item",SQL:"DMvwHdfyJKq2p2n9UYbhUKbccaIMfFxRCBt6ZWeNyu3YF00c9Ul2Nu4yq4Re82DXdJX8O/mtsGe0NgrdmRIq5u2zEZcXlsqaR9UhaBp9liruivbga+zHgNzS1jiwGzavZB0CFSxyY33Q0f6WsFlsYyU2RN0I+qoh5C+oCoeJZrw=",ListViewPropertyName:"PurchaseOrderDetails",Columns:["ID","Code","Name","SRP"],PropertyAlias:"ID_Item"})},cellTemplate:function(n,t){t.data.Item===undefined&&s.console_warn("Item is undefined in datasource");var i=t.data.Item!==undefined?t.data.Item===null?"-":t.data.Item:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},validationRules:[{type:"required",message:"Item is required"}],cssClass:"editable-cell  js-required"},{ID_Column:24084,dataField:"ItemCode",allowFixing:!0,visible:!1,caption:"Item Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_Column:24092,dataField:"SupplierCode",allowFixing:!0,visible:!0,caption:"Supplier Code",width:100,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_Column:2863,dataField:"Description",allowFixing:!0,visible:!0,caption:"Description",width:248,allowEditing:!0,dataType:"string",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:1,max:9999},ID_ModelProperty:522,ID_Column:552,dataField:"Quantity",allowFixing:!0,format:"fixedPoint",precision:0,visible:!0,caption:"Qty",width:73,allowEditing:!0,dataType:"number",isAllowZero:!0,summaryType:"SUM",validationRules:[{type:"required",message:"Qty is required"}],cssClass:"editable-cell  js-required"},{ID_ModelProperty:526,ID_Column:556,dataField:"ID_UOM",allowFixing:!0,visible:!0,caption:"UOM",width:100,alignment:"left",allowEditing:!0,dataType:"object",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_SelectBox(n,t,{Name:"ID_UOM",DisplayProperty:"UOM",DataSource:h,ListViewPropertyName:"PurchaseOrderDetails",PropertyAlias:"ID_UOM"})},cellTemplate:function(n,t){t.data.UOM===undefined&&s.console_warn("UOM is undefined in datasource");var i=t.data.UOM!==undefined?t.data.UOM===null?"-":t.data.UOM:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:523,ID_Column:553,dataField:"UnitPrice",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Unit Cost",width:117,allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell  UnitPrice"},{editorOptions:{min:0},ID_ModelProperty:17021,ID_Column:19239,dataField:"GrossAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Gross Amt",width:109,allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM"},{editorOptions:{min:0},ID_ModelProperty:5371,ID_Column:6188,dataField:"VatAmt",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"VAT Amt",width:84,allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM"},{editorOptions:{min:0},ID_ModelProperty:5440,ID_Column:6305,dataField:"ID_DocDetail",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Reference",width:113,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:524,ID_Column:554,dataField:"TotalAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Line Total",width:120,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM",cssClass:"TotalAmount"},{editorOptions:{min:0},ID_ModelProperty:5441,ID_Column:6307,dataField:"Balance",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Balance",width:74,fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0,summaryType:"SUM"},{editorOptions:{min:0},ID_ModelProperty:5437,ID_Column:6301,dataField:"ID_DocStatus",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Doc Status",width:70,alignment:"left",fixed:!0,fixedPosition:"right",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.DocStatus===undefined?s.console_warn("DocStatus is undefined in datasource"):(n.addClass("DocStatus"),s.addColumnClass(n,"ID_DocStatus",t.data,t.data.DocStatus!=null?t.data.DocStatus.replace(" ",""):null));n.addClass("ID_DocStatus");var i=t.data.DocStatus!==undefined?t.data.DocStatus===null?"-":t.data.DocStatus:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption DocStatus '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:""},{ID_ModelProperty:7478,ID_Column:9274,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:7888,ID_Column:10114,dataField:"ID_LastModifiedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Last Modified By",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.LastModifiedBy===undefined&&s.console_warn("LastModifiedBy is undefined in datasource");var i=t.data.LastModifiedBy!==undefined?t.data.LastModifiedBy===null?"-":t.data.LastModifiedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:17012,ID_Column:19224,dataField:"ModelNo",allowFixing:!0,visible:!1,caption:"ModelNo",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:12542,ID_Column:14401,dataField:"ID_CanvassSheet",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Canvass Sheet",width:134,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.CanvassSheet===undefined&&s.console_warn("CanvassSheet is undefined in datasource");var i=t.data.CanvassSheet!==undefined?t.data.CanvassSheet===null?"-":t.data.CanvassSheet:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:17346,ID_Column:19808,dataField:"ID_FilingStatus",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Filing Status",width:200,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.FilingStatus===undefined?s.console_warn("FilingStatus is undefined in datasource"):(n.addClass("FilingStatus"),s.addColumnClass(n,"ID_FilingStatus",t.data,t.data.FilingStatus!=null?t.data.FilingStatus.replace(" ",""):null));n.addClass("ID_FilingStatus");var i=t.data.FilingStatus!==undefined?t.data.FilingStatus===null?"-":t.data.FilingStatus:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption FilingStatus '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:""},{ID_Column:23899,dataField:"ReferenceNo",allowFixing:!0,visible:!0,caption:"Reference No.",width:98,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:17048,ID_Column:19289,dataField:"IsFree",allowFixing:!0,visible:!0,caption:"Free",width:75,allowEditing:!0,dataType:"boolean",isAllowZero:!0,cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:18018,ID_Column:21046,dataField:"ID_DocDetailParentModel",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_DocDetailParentModel",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17193,ID_Column:19579,dataField:"ID_Customer",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Client",width:220,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_Customer",DisplayProperty:"Customer",SQL:"ZmTiYZIsU0lcOehpzP3augnSQCsA1mHmyclbOp1F/dFSS+qeaZ8LfDvelLmrZB7Y4w/ne9rDVmHaACYR1plJGGvTU4LHw/jkyuSFpsO6l1ie1z9wNHLxppQvRc81E3sH8k7C3045lBzRf5EAX2Lsu2D9CC9LGaCFxaRNK8N4M68YXnY/XezFDDj9lC55dBtKpg3vu+1fytE1r9TrT1sbi4xACG4LnLrs8XTbkOXoFOLv1tdnWzdMv+UtI9KvBr4T",ListViewPropertyName:"PurchaseOrderDetails",Columns:["ID","Name","Address"],PropertyAlias:"ID_Customer"})},cellTemplate:function(n,t){t.data.Customer===undefined&&s.console_warn("Customer is undefined in datasource");var i=t.data.Customer!==undefined?t.data.Customer===null?"-":t.data.Customer:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:17102,ID_Column:19387,dataField:"ID_Project",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Project",width:177,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_LVBox(n,t,{Name:"ID_Project",DisplayProperty:"Project",SQL:"vUz5MrsFOX88fdCbKNIstN6KSA2aZ+VJDmXuu8QkRnopOWydKEHTJ89Q0MtGdDaMVfFZvgDXMnS6RuKHXnhQfFu9Mp3Zt3vrlOUij85fCLa9BNMlZVVbekYyJBspdtbc7Dxx2cVpj+Ybzv3V+OOP5frnyEnb08hPKNcYAQn0l1Y=",ListViewPropertyName:"PurchaseOrderDetails",Columns:["ID","Name"],PropertyAlias:"ID_Project"})},cellTemplate:function(n,t){t.data.Project===undefined&&s.console_warn("Project is undefined in datasource");var i=t.data.Project!==undefined?t.data.Project===null?"-":t.data.Project:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:7889,ID_Column:10116,dataField:"ID_CreatedBy",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Created By",width:480,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.CreatedBy===undefined&&s.console_warn("CreatedBy is undefined in datasource");t.data.ID_CreatedBy===s.CurrentUser.ID&&n.addClass("CurrentUser");var i=t.data.CreatedBy!==undefined?t.data.CreatedBy===null?"-":t.data.CreatedBy:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:17347,ID_Column:19810,dataField:"Quantity_VP",allowFixing:!0,format:"fixedPoint",precision:0,visible:!1,caption:"Quantity_VP",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17539,ID_Column:20120,dataField:"Quantity_APDM",allowFixing:!0,format:"fixedPoint",precision:0,visible:!1,caption:"Quantity_APDM",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:17644,ID_Column:20324,dataField:"BalanceInVP",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"BalanceInVP",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:17844,ID_Column:20704,dataField:"Reason",allowFixing:!0,visible:!1,caption:"Reason",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18208,ID_Column:21417,dataField:"ID_Brand",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Brand",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19498,ID_Column:23895,dataField:"ID_PurchaseRequest",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_PurchaseRequest",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19499,ID_Column:23897,dataField:"ID_PurchaseRequest_Detail",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_PurchaseRequest_Detail",allowEditing:!1,dataType:"number",isAllowZero:!0}],"500",1027,null,380,"@ID",null,"Details",65,66,1345,633,[{column:"ID",customizeText:function(){return"Total Summary"}},{column:"Quantity",customizeText:function(){return"0.00"},summaryType:"count"},{column:"GrossAmount",customizeText:function(){return"0.00"},summaryType:"count"},{column:"VatAmt",customizeText:function(){return"0.00"},summaryType:"count"},{column:"TotalAmount",customizeText:function(){return"0.00"},summaryType:"count"},{column:"Balance",customizeText:function(){return"0.00"},summaryType:"count"}],100),s.$scope.PurchaseOrderDetails_MenuOptions=[],s.$scope.GeneralGridTabPabelItems=[{isForm:!1,Caption:"Details",Name:"PurchaseOrderDetailsGridContainer",title:"Details",PropertyName:"PurchaseOrderDetails",DisplayProperty:"Name",GridOption:s.$scope.PurchaseOrderDetailsGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.PurchaseOrderDetails_MenuOptions"})},{title:"Comment",isForm:!0,ID_Tab:6811,name:"CommentTab",formOption:{bindingOptions:{"formData.Comment":"$parent.$parent.CurrentObject.Comment"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["Comment"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setCommentReadOnly!==undefined&&s.setCommentReadOnly(n)},s.onCommentTab_TabFormInitialized!==undefined)s.onCommentTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:n.dataField==="Comment"&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),s.$scope.CurrentObject.$dirty=!0)},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"Comment",label:{visible:!1},dataField:"Comment",editorType:"dxTextArea",editorOptions:{PropertyName:"Comment",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:200,onInitialized:function(n){s.onControl_Initialized("Comment",n)}},colSpan:2}]}]}},{title:"Payment History",isForm:!0,ID_Tab:21852,name:"PaymentHistoryTab",formOption:{bindingOptions:{"formData.PaymentHistoryGrid":"$parent.$parent.CurrentObject.PaymentHistoryGrid"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["PaymentHistoryGrid"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setPaymentHistoryGridReadOnly!==undefined&&s.setPaymentHistoryGridReadOnly(n)},s.onPaymentHistoryTab_TabFormInitialized!==undefined)s.onPaymentHistoryTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0&&(s.$scope.CurrentObject.$dirty=!1)},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"PaymentHistoryGrid",label:{visible:!1},dataField:"PaymentHistoryGrid",editorType:"jdxGridView",editorOptions:{PropertyName:"PaymentHistoryGrid",SQL:"Oj96MkZUA8qLFvAyiwxi8l3nWvtoXpbIChizY1Z/Fn6UU8yowQQM6SNO5z5edPrMtRR635vTRFAsUqZeyrUTeB/DDnIb1aO49GbcM6F5TfbgkUY0mqqSMWIM/i+t/JIOsIJRMdnYRUcPCbi7AJVXUva76kvjlYqMs0QeoyNPF3eAMhVr8LO0+ej1gAXrDazd3+LeFgbNiSB/6pIyexrqTSqO6kJODOS1O0Lvn1KBFMkNd09RwXpE1e37geI8d0Tt",height:"300px",ID_View:"E132FF05-0A6C-4D8D-B78D-BD6F834A5C53",OnGridInit:function(n){s.$GridControlList==undefined&&(s.$GridControlList=[]);s.$GridControlList.push(n)},onLoad:function(n){(n.params==null||n.params==undefined)&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID},onLoad:function(n){n.params==undefined&&(n.params={});n.params==null&&(n.params={});n.params.ID=s.$scope.CurrentObject.ID;console.log("onLoad",n.params)}},colSpan:2}]}]}},{title:"Status",isForm:!0,ID_Tab:3449,name:"StatusTab",formOption:{bindingOptions:{"formData.CreatedBy":"$parent.$parent.CurrentObject.CreatedBy","formData.LastModifiedBy":"$parent.$parent.CurrentObject.LastModifiedBy","formData.ApprovedBy":"$parent.$parent.CurrentObject.ApprovedBy","formData.CancelledBy":"$parent.$parent.CurrentObject.CancelledBy","formData.CheckedBy":"$parent.$parent.CurrentObject.CheckedBy","formData.DateModified":"$parent.$parent.CurrentObject.DateModified","formData.DateCreated":"$parent.$parent.CurrentObject.DateCreated","formData.DateApproved":"$parent.$parent.CurrentObject.DateApproved","formData.DateCancelled":"$parent.$parent.CurrentObject.DateCancelled","formData.isChecked":"$parent.$parent.CurrentObject.isChecked","formData.Reason":"$parent.$parent.CurrentObject.Reason"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",["isChecked"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setisCheckedReadOnly!==undefined&&s.setisCheckedReadOnly(n)},s.onStatusTab_TabFormInitialized!==undefined)s.onStatusTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CanceledBy"||n.dataField==="ID_CheckedBy"||n.dataField==="DateModified"||n.dataField==="DateCreated"||n.dataField==="DateApproved"||n.dataField==="DateCanceled"||n.dataField==="isChecked"||n.dataField==="Reason")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CanceledBy"||n.dataField==="ID_CheckedBy"||n.dataField==="DateModified"||n.dataField==="DateCreated"||n.dataField==="DateApproved"||n.dataField==="DateCanceled"||n.dataField==="Reason")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"ID_CreatedBy",label:{text:"Created By",alignment:"right",showColon:!1,location:"left"},dataField:"CreatedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CreatedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CreatedBy",n)},tabIndex:1e8}},{name:"ID_LastModifiedBy",label:{text:"Last Modified by",alignment:"right",showColon:!1,location:"left"},dataField:"LastModifiedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_LastModifiedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_LastModifiedBy",n)},tabIndex:1e8}},{name:"ID_ApprovedBy",label:{text:"Approved by",alignment:"right",showColon:!1,location:"left"},dataField:"ApprovedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_ApprovedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_ApprovedBy",n)},tabIndex:1e8}},{name:"ID_CancelledBy",label:{text:"Cancelled By",alignment:"right",showColon:!1,location:"left"},dataField:"CancelledBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CancelledBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CancelledBy",n)},tabIndex:1e8}},{name:"ID_CheckedBy",label:{text:"Checked By",alignment:"right",showColon:!1,location:"left"},dataField:"CheckedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CheckedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CheckedBy",n)},tabIndex:1e8}},{name:"DateModified",label:{text:"Date Modified",alignment:"right",showColon:!1,location:"left"},dataField:"DateModified",editorType:"dxDateBox",editorOptions:{PropertyName:"DateModified",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateModified",n)},tabIndex:1e8}},{name:"DateCreated",label:{text:"Date Created",alignment:"right",showColon:!1,location:"left"},dataField:"DateCreated",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCreated",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateCreated",n)},tabIndex:1e8}},{name:"DateApproved",label:{text:"Date Approved",alignment:"right",showColon:!1,location:"left"},dataField:"DateApproved",editorType:"dxDateBox",editorOptions:{PropertyName:"DateApproved",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateApproved",n)},tabIndex:1e8}},{name:"DateCancelled",label:{text:"Date Cancelled",alignment:"right",showColon:!1,location:"left"},dataField:"DateCancelled",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCancelled",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateCancelled",n)},tabIndex:1e8}},{name:"isChecked",label:{text:"Checked",alignment:"right",showColon:!1,location:"left"},dataField:"isChecked",editorType:"dxCheckBox",editorOptions:{PropertyName:"isChecked",onInitialized:function(n){s.onControl_Initialized("isChecked",n)},onValueChanged:function(n){s.$scope.CurrentObject.isChecked=n.value}}},{name:"Reason",label:{text:"Reason",alignment:"right",showColon:!1,location:"left"},dataField:"Reason",editorType:"dxTextArea",editorOptions:{PropertyName:"Reason",readOnly:!0,height:100,onInitialized:function(n){s.onControl_Initialized("Reason",n)},tabIndex:1e8}}]}]}}],s.$scope.GridTabPanelControlOption={items:s.$scope.GeneralGridTabPabelItems,onItemClick:s.onTab_Click,onInitialized:function(n){if(s.GridTabPanelControl=n.component,s.onTabInitialized!==undefined)s.onTabInitialized(n)},deferRendering:!1,swipeEnabled:!1,itemTemplate:"dxDataGrid",scrollByContent:!0,loop:!1,animationEnabled:!1},s.$scope.CurrentObject.CRUD={Main:65,PurchaseOrderDetails:66},s.$dateFields.push("Date"),s.$dateFields.push("DateCreated"),s.$dateFields.push("DateApproved"),s.$dateFields.push("DateCancelled"),s.$dateFields.push("DeliveryDate"),s.$dateFields.push("DateModified"),s.$dateFields.push("DueDate"),s.ModelHelper!=null){s.ModelHelper.Init(this);s.ModelHelper.onInitDetailView(this)}if(s.ViewHelper!=null){s.ViewHelper.Init(this);s.ViewHelper.onInitDetailView(this)}},r})    