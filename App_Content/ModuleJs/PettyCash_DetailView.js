define(["app","baseDetailViewController"],function(n,t){var i=function(){var t=this,n=arguments;t.Init(n[0],n[1],n[2],n[3],n[4],n[5],n[6])};return i.prototype=Object.create(t.prototype),i.prototype.Init=function(n,i,r,u,f,e,o){var s=this,l,c,h;if(s.IsEmptyString=function(n){return n===undefined||n===null?!0:n.replace(" ","").length===0?!0:!1},n.DisplayName="Petty Cash",n.DisplayPropertyName=i.ID==-1?"(New)":s.IsEmptyString(i.Name)==!0?"":i.Name,s.DisplayProperty="Name",s.ID_ModelObject=6241,s.ID_View=6761,s.ID_Model=5275,s.ModelViewName="PettyCash_DetailView",s.ModelName="PettyCash",s.DisplayName="Petty Cash",s.IsEditingOnly=!1,s.IsDeveloperMode=!1,s.$isAllowAdd=!1,s.$isAllowEdit=!1,s.CRUDTablesIds={Main:5275,PettyCash_Details:5276,PettyCash_Payments:8371},t.prototype.Init.call(this,n,i,r,u,f,e,o),l=i,c=s.GetControlDataSource("ltMIraeTAYV7ARAE9EvPC6SDIqKvm5YUaZcukO1Q6voJlbeMJeNt0r1faPdYcpaG6t7I/pszxNCn7smfeUjPHVs045eHWiXw+nBLZPUOT/Nd6/NsgXEAqWJu0Xjwl/zXW2AQ5d7svLWtUvZN2UNf01WWm9wX8Ldul9JZq1wnBrg="),s.$scope.GeneralFormOptions={bindingOptions:{"formData.FilingStatus":"CurrentObject.FilingStatus","formData.AdvancePaymentAmount":"CurrentObject.AdvancePaymentAmount","formData.Comment":"CurrentObject.Comment","formData.Date":"CurrentObject.Date","formData.DateApproved":"CurrentObject.DateApproved","formData.DateCancelled":"CurrentObject.DateCancelled","formData.DateCreated":"CurrentObject.DateCreated","formData.DateModified":"CurrentObject.DateModified","formData.DocumentNo":"CurrentObject.DocumentNo","formData.VATAmount":"CurrentObject.VATAmount","formData.PettyCashAmount":"CurrentObject.PettyCashAmount","formData.SubTotal":"CurrentObject.SubTotal","formData.ID_PettyCashType":"CurrentObject.ID_PettyCashType","formData.ID_Supplier":"CurrentObject.ID_Supplier","formData.Warehouse":"CurrentObject.Warehouse","formData.CreatedBy":"CurrentObject.CreatedBy","formData.LastModifiedBy":"CurrentObject.LastModifiedBy","formData.ApprovedBy":"CurrentObject.ApprovedBy","formData.CancelledBy":"CurrentObject.CancelledBy"},formData:s.$scope.CurrentObject,customizeItem:s.customizeItem,onInitialized:function(n){$(n.element).addClass("generalform");s.$timeout(function(){s.firstFieldIndex="Name";s.FormInstance=n.component;s.FormInstance.option("$EditableProperties",["Comment","Date","ID","ID_PettyCashType","ID_Supplier"]);s.OnFormInitialized();s.setFormReadOnly=function(n){if(s.IsFormReadOnly!==n){s.IsFormReadOnly=n;s.$fileUploaders!==undefined&&s.$fileUploaders!==null&&s.$fileUploaders.length>0&&$.each(s.$fileUploaders,function(t,i){i.component!==undefined?i.component.option("readOnly",!n):i.option("readOnly",!n)});$.each(s.DetailViewForms,function(t,i){i.setFormReadOnly(n)});s.setCommentReadOnly!==undefined&&s.setCommentReadOnly(n);s.setDateReadOnly!==undefined&&s.setDateReadOnly(n);s.setIDReadOnly!==undefined&&s.setIDReadOnly(n);s.setID_PettyCashTypeReadOnly!==undefined&&s.setID_PettyCashTypeReadOnly(n);s.setID_SupplierReadOnly!==undefined&&s.setID_SupplierReadOnly(n);$.each(["PettyCash_Details","PettyCash_Payments"],function(t,i){s["set"+i+"GridEnabled"]!==undefined&&s["set"+i+"GridEnabled"](!n)});s.ChildToolbars!==undefined&&$.each(s.ChildToolbars,function(t,i){i.option("dataSource")!=undefined&&$.each(i.option("dataSource"),function(t,i){(i.isSystem==undefined||i.isSystem!=!0)&&(i.disabled=n)})});s.onSetFormReadOnly(n)}};s.onLoad()},500)},onFieldDataChanged:function(n){s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:((n.dataField==="ID_FilingStatus"||n.dataField==="AdvancePaymentAmount"||n.dataField==="Comment"||n.dataField==="Date"||n.dataField==="DateApproved"||n.dataField==="DateCancelled"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="DocumentNo"||n.dataField==="ID"||n.dataField==="VATAmount"||n.dataField==="PettyCashAmount"||n.dataField==="SubTotal"||n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CancelledBy")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),n.dataField!=="ID_FilingStatus"&&n.dataField!=="AdvancePaymentAmount"&&n.dataField!=="DateApproved"&&n.dataField!=="DateCancelled"&&n.dataField!=="DateCreated"&&n.dataField!=="DateModified"&&n.dataField!=="DocumentNo"&&n.dataField!=="VATAmount"&&n.dataField!=="PettyCashAmount"&&n.dataField!=="SubTotal"&&n.dataField!=="ID_CreatedBy"&&n.dataField!=="ID_LastModifiedBy"&&n.dataField!=="ID_ApprovedBy"&&n.dataField!=="ID_CancelledBy"&&(s.$scope.CurrentObject.$dirty=!0)),s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()}))},scrollingEnabled:!0,height:function(){return"89%"},items:[{itemType:"tabbed",tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized,onItemClick:s.onTab_Click},tabs:[{title:"General",ID_Tab:-1,items:[{itemType:"group",colCount:1,tabPanelOptions:{deferRendering:!1,onInitialized:s.onTabInitialized},items:[{itemType:"group",caption:"Information",IsShowLabel:!0,colCount:1,colSpan:1,items:[{name:"DocumentNo",label:{text:"PC No.",alignment:"right",showColon:!1,location:"left"},dataField:"DocumentNo",editorType:"dxTextBox",editorOptions:{PropertyName:"DocumentNo",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("DocumentNo",n)},tabIndex:1e8}},{name:"Date",label:{text:"PC Date",alignment:"right",showColon:!1,location:"left"},dataField:"Date",editorType:"dxDateBox",editorOptions:{PropertyName:"Date",width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("Date",n)},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify PC Date"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"PC Date is required"}],cssClass:"js-dx-required"},{name:"ID_PettyCashType",label:{text:"PC Type",alignment:"right",showColon:!1,location:"left"},dataField:"ID_PettyCashType",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_PettyCashType",SQL:"lvFiX1iAcnt0Mn0YRtME6XaEC6rbJm+Ql6g2zqOgD49nCHRwUAnG0ku4P47ScoHhv4Cvzwm8eoC2wF7r5ForatZ/qDw+ltxYxr6OQJ5Izf9PWp9Yer3WZH8NGlCJaXXDo9TiVHSjff1/i4Huk8B/eABqDE3EESAM9RM5zEBcS/8=",IsDeveloperMode:!1,ID_Control:23377,ID_ModelProperty:18869,ControlName:"ID_PettyCashType",DisplayProperty:"PettyCashType",CurrentObject:s.CurrentObject,onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_PettyCashType!=null&&(t=[{ID:s.$scope.CurrentObject.ID_PettyCashType,Name:s.$scope.CurrentObject.PettyCashType}],s.$scope.CurrentObject.EXPR_ID_PettyCashType=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_PettyCashType",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_PettyCashType=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_PettyCashType",value:t})});s.$scope.CurrentObject.ID_PettyCashType=t!==null?t.ID:null;s.$scope.CurrentObject.PettyCashType=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_PettyCashType",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.PettyCashType};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}},onFocusIn:function(){s.$timeout(function(){s.$scope.StatusText="Please Specify PC Type"})},onFocusOut:function(){s.$timeout(function(){s.$scope.StatusText=""})}},validationRules:[{type:"required",message:"PC Type is required"}],cssClass:"js-dx-required"},{name:"ID_Supplier",label:{text:"Supplier",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Supplier",editorType:"dxListViewBox",editorOptions:{PropertyName:"ID_Supplier",SQL:"N7Ne0TBFZR1qwGNpr/UC7sF99GbpFOu7+ApX+gd1ygW8T7FNEJHxnKk9hw0yUo7IDmupyVFXev98EJMdinmejmUDzMnOQbBfBBUFurWWRlbcbXuykLx7cmBQa9FqX0zgbILZGQ2usKxy3HZOr1jzesyfXbCTTatg40+Ax4Y1a/FRAZZ29C5hn04oDn4cx4QuM+K8cNqCHnIAnYUluRfYcQ==",IsDeveloperMode:!1,ID_Control:23064,ID_ModelProperty:18597,ControlName:"ID_Supplier",DisplayProperty:"Supplier",CurrentObject:s.CurrentObject,ModelOption:{ID_DetailView:3102,ModelPropertyName:"Supplier",IsModal:s.IsModal===!0,ID_Model_Caller:5275,Icon:"mdi mdi-contact-mail"},Columns:["ID","Name","Address"],onInitialized:function(n){var i=n.component,t;s.$scope.CurrentObject.ID_Supplier!=null&&(t=[{ID:s.$scope.CurrentObject.ID_Supplier,Name:s.$scope.CurrentObject.Supplier}],s.$scope.CurrentObject.EXPR_ID_Supplier=t[0],i.$setValue(t[0]));s.onControl_Initialized("ID_Supplier",n)},OnItemSelected:function(n){var t=n;t==undefined&&(t=null);s.$scope.CurrentObject.EXPR_ID_Supplier=t;s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Supplier",value:t})});s.$scope.CurrentObject.ID_Supplier=t!==null?t.ID:null;s.$scope.CurrentObject.Supplier=t!==null?t.Name:""},onValueChanged:function(n){if(s.$scope.CurrentObject.$dirty=!0,n.value===null)s.$timeout(function(){s.CurrentObject_FieldDataChanged({dataField:"ID_Supplier",value:null})});else{if(n.component.$IsSelf==!0){n.component.$IsSelf=undefined;return}var t={ID:n.value,Name:s.$scope.CurrentObject.Supplier};s.$timeout(function(){n.component.$setValue(t,!1);n.component.repaint()},300)}}}}]},{itemType:"group",colCount:1,IsShowLabel:!0,colSpan:1,caption:"Total",items:[{name:"SubTotal",label:{text:"SubTotal",alignment:"right",showColon:!1,location:"left"},dataField:"SubTotal",editorType:"jDxNumberBox",editorOptions:{PropertyName:"SubTotal",readOnly:!0,PropertyName:"SubTotal",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.SubTotal=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("SubTotal",n)},tabIndex:1e8}},{name:"VATAmount",label:{text:"VAT Amount",alignment:"right",showColon:!1,location:"left"},dataField:"VATAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"VATAmount",readOnly:!0,PropertyName:"VATAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.VATAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("VATAmount",n)},tabIndex:1e8}},{name:"AdvancePaymentAmount",label:{text:"Adv. Payment",alignment:"right",showColon:!1,location:"left"},dataField:"AdvancePaymentAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"AdvancePaymentAmount",readOnly:!0,PropertyName:"AdvancePaymentAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.AdvancePaymentAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("AdvancePaymentAmount",n)},tabIndex:1e8}},{name:"PettyCashAmount",label:{text:"PC Amount",alignment:"right",showColon:!1,location:"left"},dataField:"PettyCashAmount",editorType:"jDxNumberBox",editorOptions:{PropertyName:"PettyCashAmount",readOnly:!0,PropertyName:"PettyCashAmount",format:"#0%",OnEnterKey:function(n){var t=n.component.option("value");s.$scope.CurrentObject.PettyCashAmount=(t==null?0:t).toFixed(2)},onInitialized:function(n){s.onControl_Initialized("PettyCashAmount",n)},tabIndex:1e8}}]}]}]}]}]},h=[],s.$scope.PettyCash_DetailsGridOption=s.GetDetailGridOption("PettyCash_Detail_LookUp_ListView","$parent.$parent.CurrentObject.PettyCash_Details","PettyCash_Details",[{editorOptions:{min:0},ID_ModelProperty:13777,ID_Column:15703,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:13778,ID_Column:15704,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:13779,ID_Column:15705,dataField:"Name",allowFixing:!0,visible:!1,caption:"Name",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18616,ID_Column:22172,dataField:"ID_Reference",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Reference",width:68,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.Reference===undefined&&s.console_warn("Reference is undefined in datasource");var i=t.data.Reference!==undefined?t.data.Reference===null?"-":t.data.Reference:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{ID_ModelProperty:18613,ID_Column:22166,dataField:"ReferenceDate",allowFixing:!0,visible:!0,caption:"Ref. Date",width:81,alignment:"center",allowEditing:!1,dataType:"date",format:"MM/dd/yyyy",isAllowZero:!0,selectedFilterOperation:"between"},{ID_ModelProperty:13781,ID_Column:15707,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",width:992,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:13780,ID_Column:15706,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:250,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18626,ID_Column:22192,dataField:"AdvancePaymentSubtotalAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Adv. Payment Subtotal",width:129,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18620,ID_Column:22180,dataField:"VatAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Adv. Payment VAT",width:143,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18614,ID_Column:22168,dataField:"AdvancedPaymentAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Adv. Payment Amt",width:129,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18725,ID_Column:22382,dataField:"RRTotalAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"RRTotalAmount",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18615,ID_Column:22170,dataField:"TotalAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Total Amount",width:128,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:13782,ID_Column:15708,dataField:"ID_PettyCash",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_PettyCash",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18617,ID_Column:22174,dataField:"ID_ReferenceParentModel",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_ReferenceParentModel",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18618,ID_Column:22176,dataField:"ID_PaymentCustodian",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Payment",width:202,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_SelectBox(n,t,{Name:"ID_PaymentCustodian",DisplayProperty:"PaymentCustodian",DataSource:h,ListViewPropertyName:"PettyCash_Details",PropertyAlias:"ID_PaymentCustodian"})},cellTemplate:function(n,t){t.data.PaymentCustodian===undefined&&s.console_warn("PaymentCustodian is undefined in datasource");var i=t.data.PaymentCustodian!==undefined?t.data.PaymentCustodian===null?"-":t.data.PaymentCustodian:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:18619,ID_Column:22178,dataField:"PaymentAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!1,caption:"Payment Amount",width:132,fixed:!0,fixedPosition:"right",allowEditing:!0,dataType:"number",isAllowZero:!0,cssClass:"editable-cell "}],"",6242,null,380,"@ID",null,"Details",5480,5276,15983,13783,undefined,100),h=[],s.$scope.PettyCash_PaymentsGridOption=s.GetDetailGridOption("PettyCash_Payment_LookUp_ListView","$parent.$parent.CurrentObject.PettyCash_Payments","PettyCash_Payments",[{editorOptions:{min:0},ID_ModelProperty:18627,ID_Column:22194,dataField:"ID",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"ID",width:100,alignment:"right",fixed:!0,allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){var i=t.data.ID;i<0?n.text("(New)"):n.text("")},cssClass:"system-id"},{ID_ModelProperty:18630,ID_Column:22197,dataField:"IsActive",allowFixing:!0,visible:!1,caption:"Active",width:200,allowEditing:!1,dataType:"boolean",isAllowZero:!0},{ID_ModelProperty:18629,ID_Column:22196,dataField:"Name",allowFixing:!0,visible:!0,caption:"RefNo",width:125,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19289,ID_Column:23459,dataField:"ID_Employee",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Employee",width:227,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.Employee===undefined&&s.console_warn("Employee is undefined in datasource");var i=t.data.Employee!==undefined?t.data.Employee===null?"-":t.data.Employee:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:19288,ID_Column:23457,dataField:"ID_Client",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!0,caption:"Client",width:169,alignment:"left",allowEditing:!1,dataType:"number",isAllowZero:!0,cellTemplate:function(n,t){t.data.Client===undefined&&s.console_warn("Client is undefined in datasource");var i=t.data.Client!==undefined?t.data.Client===null?"-":t.data.Client:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)}},{editorOptions:{min:0},ID_ModelProperty:18634,ID_Column:22206,dataField:"ID_PaymentCustodian",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"Paymentxx",width:42,alignment:"left",allowEditing:!0,dataType:"number",isAllowZero:!0,editCellTemplate:function(n,t){s.InitEditCellTemplate_SelectBox(n,t,{Name:"ID_PaymentCustodian",DisplayProperty:"PaymentCustodian",DataSource:h,ListViewPropertyName:"PettyCash_Payments",PropertyAlias:"ID_PaymentCustodian"})},cellTemplate:function(n,t){t.data.PaymentCustodian===undefined&&s.console_warn("PaymentCustodian is undefined in datasource");var i=t.data.PaymentCustodian!==undefined?t.data.PaymentCustodian===null?"-":t.data.PaymentCustodian:"undefined";n.text(i)},groupCellTemplate:function(n,t){var i=t.totalItem.data.items.length,r=t.displayValue!==null?t.displayValue.replace(/\s/g,""):"";$('<div class="GroupColumnHeader"><span class="js-group-caption  '+r+' ">'+(t.displayValue===null?"-":t.displayValue)+'<\/span><div class="group-count">('+i+")<\/div><\/div>").appendTo(n)},cssClass:"editable-cell "},{editorOptions:{min:0},ID_ModelProperty:18635,ID_Column:22208,dataField:"PaymentAmount",allowFixing:!0,format:{type:"fixedPoint",precision:2},visible:!0,caption:"Amount",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{ID_ModelProperty:18628,ID_Column:22195,dataField:"Code",allowFixing:!0,visible:!1,caption:"Code",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{ID_ModelProperty:18631,ID_Column:22198,dataField:"Comment",allowFixing:!0,visible:!1,caption:"Comment",width:200,allowEditing:!1,dataType:"string",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:18632,ID_Column:22204,dataField:"ID_PettyCash",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_PettyCash",width:200,allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19292,ID_Column:23465,dataField:"ID_DocParentModel",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_DocParentModel",allowEditing:!1,dataType:"number",isAllowZero:!0},{editorOptions:{min:0},ID_ModelProperty:19293,ID_Column:23467,dataField:"ID_Model",allowFixing:!0,format:{type:"fixedPoint",precision:0},visible:!1,caption:"ID_Model",allowEditing:!1,dataType:"number",isAllowZero:!0}],"",9337,null,300,"@ID",null,"Cash Advance",8672,8371,23102,18633,undefined,100),s.$scope.PettyCash_Details_MenuOptions=[],s.$scope.PettyCash_Payments_MenuOptions=[],s.$scope.GeneralGridTabPabelItems=[{isForm:!1,Caption:"Record",Name:"PettyCash_DetailsGridContainer",title:"Details",PropertyName:"PettyCash_Details",DisplayProperty:"Name",GridOption:s.$scope.PettyCash_DetailsGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.PettyCash_Details_MenuOptions"})},{isForm:!1,Caption:"Record",Name:"PettyCash_PaymentsGridContainer",title:"Cash Advance",PropertyName:"PettyCash_Payments",DisplayProperty:"Name",GridOption:s.$scope.PettyCash_PaymentsGridOption,width:"100%",MenuOptions:s.GetGridMenuOption({dataSource:"$parent.$parent.PettyCash_Payments_MenuOptions"})},{title:"Comment",isForm:!0,ID_Tab:15963,name:"CommentTab",formOption:{bindingOptions:{"formData.Comment":"$parent.$parent.CurrentObject.Comment"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:1,onInitialized:function(n){n.component.option("$EditableProperties",["Comment"]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(n){s.setCommentReadOnly!==undefined&&s.setCommentReadOnly(n)},s.onCommentTab_TabFormInitialized!==undefined)s.onCommentTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:n.dataField==="Comment"&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),s.$scope.CurrentObject.$dirty=!0)},items:[{itemType:"group",colCount:1,colSpan:1,items:[{name:"Comment",label:{visible:!1},dataField:"Comment",editorType:"dxTextArea",editorOptions:{PropertyName:"Comment",onKeyDown:function(){s.$isReloadCurrentObject=!1},height:200,onInitialized:function(n){s.onControl_Initialized("Comment",n)}}}]}]}},{title:"Status",isForm:!0,ID_Tab:15964,name:"StatusTab",formOption:{bindingOptions:{"formData.CreatedBy":"$parent.$parent.CurrentObject.CreatedBy","formData.LastModifiedBy":"$parent.$parent.CurrentObject.LastModifiedBy","formData.ApprovedBy":"$parent.$parent.CurrentObject.ApprovedBy","formData.CancelledBy":"$parent.$parent.CurrentObject.CancelledBy","formData.DateCancelled":"$parent.$parent.CurrentObject.DateCancelled","formData.DateCreated":"$parent.$parent.CurrentObject.DateCreated","formData.DateModified":"$parent.$parent.CurrentObject.DateModified","formData.DateApproved":"$parent.$parent.CurrentObject.DateApproved","formData.FilingStatus":"$parent.$parent.CurrentObject.FilingStatus","formData.Warehouse":"$parent.$parent.CurrentObject.Warehouse"},customizeItem:s.customizeItem,formData:s.$scope.CurrentObject,colCount:2,onInitialized:function(n){n.component.option("$EditableProperties",[]);s.$timeout(function(){if(s.DetailViewForms.push(n.component),n.component.setFormReadOnly=function(){},s.onStatusTab_TabFormInitialized!==undefined)s.onStatusTab_TabFormInitialized(n)},500)},onFieldDataChanged:function(n){s.ComputeExpression!=undefined&&s.$timeout(function(){s.ComputeExpression()});s.$isReloadCurrentObject==!0?s.$scope.CurrentObject.$dirty=!1:(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CancelledBy"||n.dataField==="DateCancelled"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="DateApproved"||n.dataField==="ID_FilingStatus")&&(s.CurrentObject_FieldDataChanged({dataField:n.dataField,value:n.value}),(n.dataField==="ID_CreatedBy"||n.dataField==="ID_LastModifiedBy"||n.dataField==="ID_ApprovedBy"||n.dataField==="ID_CancelledBy"||n.dataField==="DateCancelled"||n.dataField==="DateCreated"||n.dataField==="DateModified"||n.dataField==="DateApproved"||n.dataField==="ID_FilingStatus")&&(s.$scope.CurrentObject.$dirty=!0))},items:[{itemType:"group",colCount:2,colSpan:2,items:[{name:"ID_CreatedBy",label:{text:"Created By",alignment:"right",showColon:!1,location:"left"},dataField:"CreatedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CreatedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CreatedBy",n)},tabIndex:1e8}},{name:"ID_LastModifiedBy",label:{text:"Last Modified by",alignment:"right",showColon:!1,location:"left"},dataField:"LastModifiedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_LastModifiedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_LastModifiedBy",n)},tabIndex:1e8}},{name:"ID_ApprovedBy",label:{text:"Approved by",alignment:"right",showColon:!1,location:"left"},dataField:"ApprovedBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_ApprovedBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_ApprovedBy",n)},tabIndex:1e8}},{name:"ID_CancelledBy",label:{text:"Cancelled By",alignment:"right",showColon:!1,location:"left"},dataField:"CancelledBy",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_CancelledBy",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_CancelledBy",n)},tabIndex:1e8}},{name:"DateCancelled",label:{text:"Date Cancelled",alignment:"right",showColon:!1,location:"left"},dataField:"DateCancelled",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCancelled",readOnly:!0,width:"100%",type:"datetime",onInitialized:function(n){s.onControl_Initialized("DateCancelled",n)},tabIndex:1e8}},{name:"DateCreated",label:{text:"Date Created",alignment:"right",showColon:!1,location:"left"},dataField:"DateCreated",editorType:"dxDateBox",editorOptions:{PropertyName:"DateCreated",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateCreated",n)},tabIndex:1e8}},{name:"DateModified",label:{text:"Date Modified",alignment:"right",showColon:!1,location:"left"},dataField:"DateModified",editorType:"dxDateBox",editorOptions:{PropertyName:"DateModified",readOnly:!0,width:"100%",type:"date",onInitialized:function(n){s.onControl_Initialized("DateModified",n)},tabIndex:1e8}},{name:"DateApproved",label:{text:"Date Approved",alignment:"right",showColon:!1,location:"left"},dataField:"DateApproved",editorType:"dxDateBox",editorOptions:{PropertyName:"DateApproved",readOnly:!0,width:"100%",type:"datetime",onInitialized:function(n){s.onControl_Initialized("DateApproved",n)},tabIndex:1e8}},{name:"ID_FilingStatus",label:{text:"Filing Status",alignment:"right",showColon:!1,location:"left"},dataField:"FilingStatus",editorType:"dxTextBox",editorOptions:{PropertyName:"ID_FilingStatus",readOnly:!0,onInitialized:function(n){s.onControl_Initialized("ID_FilingStatus",n)},tabIndex:1e8}},{name:"ID_Warehouse",label:{text:"Warehouse",alignment:"right",showColon:!1,location:"left"},dataField:"ID_Warehouse",editorType:"cmSelectBox",editorOptions:{PropertyName:"ID_Warehouse",readOnly:!0,showClearButton:!0,searchEnabled:!0,searchMode:"contains",dataSource:c,onValueChanged:function(n){var t=n.component._options.selectedItem;s.CurrentObject_FieldDataChanged({dataField:"ID_Warehouse",value:t});s.$scope.CurrentObject.ID_Warehouse=t!==null?t.ID:null;s.$scope.CurrentObject.Warehouse=t!==null?t.Name:""},onInitialized:function(n){s.onControl_Initialized("ID_Warehouse",n)},displayExpr:"Name",valueExpr:"ID",tabIndex:1e8}}]}]}}],s.$scope.GridTabPanelControlOption={items:s.$scope.GeneralGridTabPabelItems,onItemClick:s.onTab_Click,onInitialized:function(n){if(s.GridTabPanelControl=n.component,s.onTabInitialized!==undefined)s.onTabInitialized(n)},deferRendering:!1,swipeEnabled:!1,itemTemplate:"dxDataGrid",scrollByContent:!0,loop:!1,animationEnabled:!1},s.$scope.CurrentObject.CRUD={Main:5275,PettyCash_Details:5276,PettyCash_Payments:8371},s.$dateFields.push("DateCreated"),s.$dateFields.push("DateModified"),s.$dateFields.push("Date"),s.$dateFields.push("DateApproved"),s.$dateFields.push("DateCancelled"),s.ModelHelper!=null){s.ModelHelper.Init(this);s.ModelHelper.onInitDetailView(this)}if(s.ViewHelper!=null){s.ViewHelper.Init(this);s.ViewHelper.onInitDetailView(this)}},i})    