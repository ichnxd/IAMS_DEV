@inherits System.Web.Mvc.WebViewPage
@using System.Web.Mvc;
@{
    Layout = null;
}
@Html.JsMinify(@<text>
//<script>
    define(['app', 'baseModelHelper', 'AcctHelper'], function (app, BaseClass, AcctHelper) {

        var VC_EPP_Product = function () { }
        
        VC_EPP_Product.prototype = Object.create(BaseClass.prototype);

        VC_EPP_Product.prototype.Init = function (VC) {
            BaseClass.prototype.Init.call(this, VC);
            if (this.ID_ViewType == 1) {
                VC.AddToolbarButton({
                    text: 'Create EPP Item',
                    icon: 'mdi mdi-file-document',
                    color: '#009688',
                    disabled: false,
                    isContextMenu: true,
                    requireSingleObject: true,
                    onItemClick: function (BaseObjects) {
                        //
                        //
                        //
                        var $rootScope = app.$rootScope();
                        $rootScope.$emit("CallNewTabMethod", {

                            ID: app.getRandomInt(),
                            Caption: 'EPP Item (New)',
                            ID_ViewType: 2,
                            ViewID: 9400, //EPP Item DetailView
                            ImageName: '',
                            ID_CurrentObject: -1,
                            params: {
                                'ID_EPP_Product': BaseObjects[0].ID
                            }
                        });
                    }
                });
            }
        }

        return VC_EPP_Product;
    });
//</script>
</text> , false )